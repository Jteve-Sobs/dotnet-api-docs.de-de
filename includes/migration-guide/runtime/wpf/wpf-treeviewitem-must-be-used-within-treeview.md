### <a name="wpf-treeviewitem-must-be-used-within-a-treeview"></a>WPF-TreeViewItem muss innerhalb einer ' TreeView ' verwendet werden

|   |   |
|---|---|
|Details|Eine Änderung wurde eingeführt, 4.5, die Verwendung von einschränkt <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> Elemente außerhalb von einem <xref:System.Windows.Controls.TreeView?displayProperty=name>. Dieser Fall kann unter den folgenden Bedingungen eintreten:<ul><li><xref:System.Windows.Controls.TreeViewItem?displayProperty=name>der visuelles übergeordnetes Element ist nicht mit einem Bereich. (Ein <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> für generiert eine <xref:System.Windows.Controls.TreeView?displayProperty=name> müssen Sie ein Panel wie das übergeordnete Objekt)</li><li>Die <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> ein Nachfolger des eine <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> fungiert als die &quot;ElementHost&quot; für ein Listenfeld-Steuerelement (ListBox, DataGrid ListView, usw.). Die Virtualisierung muss nicht aktiviert werden.</li><li>Die <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> Durchführen eines Bildlaufs Element ist (<code>ScrollUnit=&quot;Item&quot;</code>).</li><li>Jemand ruft <code>VirtualizingStackPanel.MakeVisible(v)</code> auf, um ein Element <code>v</code> in eine Ansicht zu scrollen. Dies kann auf verschiedene Arten explizit oder implizit erfolgen. Die am häufigsten verwendeten Methode ist möglicherweise einfach das Klicken auf <code>v</code>, damit es den Tastaturfokus erhält.</li><li>Der visuelle-übergeordnete Kette aus <code>v</code> auf die <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> durchläuft die <xref:System.Windows.Controls.TreeViewItem?displayProperty=name>.</li></ul>In anderen Worten, wird dies angezeigt beim eine <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> dient außerhalb von einer <xref:System.Windows.Controls.TreeView?displayProperty=name>, und der Benutzer klickt auf ein Nachfolgerelement des der <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> um es sichtbar zu machen. Wenn die <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> verfügt über keine Nachfolger den Fokus erhalten kann, dieses Problem wird nie angezeigt. Ist ein Beispiel für eine Situation, in denen dies erreicht wird, wenn eine <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> ist der Stamm einer DataTemplate. Wenn dieses Problem erreicht wird, tritt „InvalidCastException“ innerhalb des WPF-Frameworks auf.|
|Vorschlag|Hierfür wird ein Hotfix zur Verfügung gestellt.|
|Bereich|Gering|
|Version|4.5|
|Typ|Laufzeit|

