### <a name="sqlbulkcopy-uses-destination-column-encoding-for-strings"></a><span data-ttu-id="d95b7-101">"SqlBulkCopy" verwendet Ziel Spalte Codierung für Zeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="d95b7-101">SqlBulkCopy uses destination column encoding for strings</span></span>

|   |   |
|---|---|
|<span data-ttu-id="d95b7-102">Details</span><span class="sxs-lookup"><span data-stu-id="d95b7-102">Details</span></span>|<span data-ttu-id="d95b7-103">Beim Einfügen von Daten in eine Spalte verwendet <xref:System.Data.SqlClient.SqlBulkCopy?displayProperty=name> die Codierung der Zielspalte, und nicht die Standardcodierung für <code>VARCHAR</code>- und <code>CHAR</code>-Typen.</span><span class="sxs-lookup"><span data-stu-id="d95b7-103">When inserting data into a column, <xref:System.Data.SqlClient.SqlBulkCopy?displayProperty=name> uses the encoding of the destination column rather than the default encoding for <code>VARCHAR</code> and <code>CHAR</code> types.</span></span> <span data-ttu-id="d95b7-104">Diese Änderung schließt die Gefahr einer möglichen Datenbeschädigung aus, die bei Verwenden der Standardcodierung verursacht wird, wenn diese nicht von der Zielspalte verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d95b7-104">This change eliminates the possibility of data corruption caused by using the default encoding when the destination column does not use the default encoding.</span></span> <span data-ttu-id="d95b7-105">In seltenen Fällen kann möglicherweise eine vorhandene Anwendung eine SqlException-Ausnahme ausgelöst, wenn die Änderung der Codierung Daten, die zu groß erzeugt für die Zielspalte sind.</span><span class="sxs-lookup"><span data-stu-id="d95b7-105">In rare cases, an existing application may throw a SqlException exception if the change in encoding produces data that is too big to fit into the destination column.</span></span>|
|<span data-ttu-id="d95b7-106">Vorschlag</span><span class="sxs-lookup"><span data-stu-id="d95b7-106">Suggestion</span></span>|<span data-ttu-id="d95b7-107">Erwarten, dass <xref:System.Data.SqlClient.SqlBulkCopy?displayProperty=name> Daten aufgrund der Unterschiede Codierung wird nicht mehr beschädigt.</span><span class="sxs-lookup"><span data-stu-id="d95b7-107">Expect that <xref:System.Data.SqlClient.SqlBulkCopy?displayProperty=name> will no longer corrupt data due to encoding differences.</span></span> <span data-ttu-id="d95b7-108">Wenn Zeichenfolgen in der Nähe der Zielspalte Größenlimit kopiert werden, es kann erforderlich sein, entweder Daten (kopiert werden, um zu überprüfen, dass die Daten in der Zielspalte passt) vorab codieren oder catch <xref:System.Data.SqlClient.SqlException?displayProperty=name>s.</span><span class="sxs-lookup"><span data-stu-id="d95b7-108">If strings near the destination column's size limit are being copied, it may be necessary to either pre-encode data (to be copied to check that the data will fit in the destination column) or catch <xref:System.Data.SqlClient.SqlException?displayProperty=name>s.</span></span>|
|<span data-ttu-id="d95b7-109">Bereich</span><span class="sxs-lookup"><span data-stu-id="d95b7-109">Scope</span></span>|<span data-ttu-id="d95b7-110">Edge</span><span class="sxs-lookup"><span data-stu-id="d95b7-110">Edge</span></span>|
|<span data-ttu-id="d95b7-111">Version</span><span class="sxs-lookup"><span data-stu-id="d95b7-111">Version</span></span>|<span data-ttu-id="d95b7-112">4.5</span><span class="sxs-lookup"><span data-stu-id="d95b7-112">4.5</span></span>|
|<span data-ttu-id="d95b7-113">Typ</span><span class="sxs-lookup"><span data-stu-id="d95b7-113">Type</span></span>|<span data-ttu-id="d95b7-114">Laufzeit</span><span class="sxs-lookup"><span data-stu-id="d95b7-114">Runtime</span></span>|
|<span data-ttu-id="d95b7-115">Betroffene APIs</span><span class="sxs-lookup"><span data-stu-id="d95b7-115">Affected APIs</span></span>|<ul><li><xref:System.Data.SqlClient.SqlBulkCopy?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlBulkCopy.%23ctor(System.Data.SqlClient.SqlConnection)?displayProperty=nameWithType></li></ul>|

