### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a>Verbindungspool blockieren Zeitraum für die Azure SQL-Datenbanken wird entfernt.

|   |   |
|---|---|
|Details|Beginnend mit .NET Framework 4.6.2, für die Verbindung öffnen Anforderungen für bekannte Azure SQL-Datenbanken (*. database.windows.net, *. database.chinacloudapi.cn, *. database.usgovcloudapi.net, *. database.cloudapi.de), den Verbindungspool Sperrfrist ist entfernt, und Öffnen von Verbindungsfehlern nicht zwischengespeichert werden. Wiederholungsversuche von Anforderungen zum Öffnen von Verbindungen erfolgen nahezu unmittelbar nach vorübergehenden Verbindungsfehlern. Diese Änderung kann der geöffneten Verbindungsversuch sofort für Azure SQL-Datenbanken, und somit Verbessern der Leistung von aktiviert Cloud-apps wiederholt werden. Für alle anderen Verbindungsversuche weiterhin die Verbindung Pool Sperrfrist erzwungen werden. In .NET Framework 4.6.1 und früheren Versionen Wenn eine app einen vorübergehende Verbindungsfehler, beim Verbinden mit einer Datenbank feststellt kann nicht der Verbindungsversuch schnell, wiederholt da Verbindungspool den Fehler speichert und löst ihn erneut aus, 5 Sekunden lang auf 1 die Minute. Weitere Informationen finden Sie unter [SQL Server Connection Pooling (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md). Dieses Verhalten ist für Verbindungen mit Azure SQL-Datenbanken problematisch, die häufig aufgrund vorübergehender Fehler fehlschlagen, die in der Regel innerhalb weniger Sekunden behoben sind. Der blockierenden Verbindung Poolfunktion bedeutet, dass die app mit der Datenbank für eine umfangreiche Zeitraum keine Verbindung herstellen kann, obwohl die Datenbank verfügbar ist und die app innerhalb von wenigen Sekunden zu rendern muss.|
|Vorschlag|Wenn dieses Verhalten nicht erwünscht ist, kann die Verbindung Pool Sperrfrist konfiguriert werden, durch Festlegen der <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> Eigenschaft, die in .NET Framework 4.6.2 eingeführt. Der Wert der Eigenschaft ist ein Mitglied der <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name>-Enumeration, die einen von drei Werten annehmen kann:<ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul>Das vorherige Verhalten kann wiederhergestellt werden, indem Sie die <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name>-Eigenschaft auf <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock> festlegen.|
|Bereich|Gering|
|Version|4.6.2|
|Typ|Laufzeit|
|Betroffene APIs|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

