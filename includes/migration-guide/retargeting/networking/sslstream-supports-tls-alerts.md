### <a name="sslstream-supports-tls-alerts"></a>SslStream unterstützt TLS-Warnungen

|   |   |
|---|---|
|Details|Nach einem fehlgeschlagenen TLS-Handshake ein <xref:System.IO.IOException?displayProperty=name> mit einer internen <xref:System.ComponentModel.Win32Exception?displayProperty=name> Ausnahme wird vom ersten e/a-Lese-Schreib-Vorgang ausgelöst werden. Die <xref:System.ComponentModel.Win32Exception.NativeErrorCode?displayProperty=name> code für die <xref:System.ComponentModel.Win32Exception?displayProperty=name> TLS-Warnung zugeordnet werden kann, aus der mit diesem Remoteanbieter [Schannel-Dokumentation](https://msdn.microsoft.com/library/windows/desktop/dd721886%28v=vs.85%29.aspx). Weitere Informationen finden Sie unter [RFC 2246: Abschnitt 7.2.2 fehlerwarnungen](https://tools.ietf.org/html/rfc2246#section-7.2.2)das Verhalten in .NET 4.6.2 und unter ist der Transportkanal (in der Regel TCP-Verbindung) tritt ein Timeout während Schreib- oder Lese-, wenn die Gegenstelle Fehler bei der Handshake und unmittelbar danach wies die Verbindung.|
|Vorschlag|Anwendungen, die aufrufen Netzwerk I/O APIs wie z. B. <xref:System.IO.Stream.Read(System.Byte[],System.Int32,System.Int32)> / <xref:System.IO.Stream.Write(System.Byte[],System.Int32,System.Int32)> behandelt werden sollen <xref:System.IO.IOException> oder <xref:System.TimeoutException?displayProperty=name>. Die TLS-Warnfunktion wird beginnend mit .NET 4.7 standardmäßig aktiviert. Anwendungen, die mit Zielgruppenadressierung für .NET 4.0 - .NET 4.6.2 auf eine .NET 4.7 oder höher ausgeführt wird das Feature deaktiviert, um die Kompatibilität beibehalten haben. Das folgende Konfigurations-API ist so aktivieren oder deaktivieren das Feature für .NET 4.6 und höher unter .NET 4.7 oder höher Framework-Anwendungen verfügbar.<ul><li>Programmgesteuert:</li></ul>Muss es sich um sehr erstes sein, die die Anwendung ausführt, da ServicePointManager nur einmal initialisiert wird:<pre><code class="language-C#">AppContext.SetSwitch(&quot;TestSwitch.LocalAppContext.DisableCaching&quot;, true);&#13;&#10;AppContext.SetSwitch(&quot;Switch.System.Net.DontEnableTlsAlerts&quot;, true); // Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2.&#13;&#10;</code></pre><ul><li>AppConfig:</li></ul><pre><code class="language-XML">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Net.DontEnableTlsAlerts=true&quot;/&gt;&#13;&#10;&lt;!-- Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2. --&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><ul><li>Der Registrierungsschlüssel (globale Computer):</li></ul>Legen Sie den Wert auf "False", das Feature in .NET 4.6 - 4.6.2 aktiviert.<pre><code>Key = HKLM\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\AppContext\Switch.System.Net.DontEnableTlsAlerts&#13;&#10;Type = String&#13;&#10;Value = &quot;true&quot;&#13;&#10;</code></pre>|
|Bereich|Edge|
|Version|4.7|
|Typ|Neuzuweisung|
|Betroffene APIs|<ul><li><xref:System.Net.Security.SslStream?displayProperty=nameWithType></li><li><xref:System.Net.WebRequest?displayProperty=nameWithType></li><li><xref:System.Net.HttpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.FtpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.Mail.SmtpClient?displayProperty=nameWithType></li><li><xref:System.Net.Http?displayProperty=nameWithType></li></ul>|

