### <a name="wpf-grid-allocation-of-space-to-star-columns"></a><span data-ttu-id="969f8-101">WPF-Raster speicherplatzzuordnung Stern-Spalten</span><span class="sxs-lookup"><span data-stu-id="969f8-101">WPF Grid allocation of space to star-columns</span></span>

|   |   |
|---|---|
|<span data-ttu-id="969f8-102">Details</span><span class="sxs-lookup"><span data-stu-id="969f8-102">Details</span></span>|<span data-ttu-id="969f8-103">Ab der .NET Framework-4.7 WPF ersetzt den Algorithmus, <xref:System.Windows.Controls.Grid> verwendet, um Speicherplatz zu reservieren \*-Spalten.</span><span class="sxs-lookup"><span data-stu-id="969f8-103">Starting with the .NET Framework 4.7, WPF replaces the algorithm that <xref:System.Windows.Controls.Grid> uses to allocate space to \*-columns.</span></span> <span data-ttu-id="969f8-104">Dadurch wird die tatsächliche Breite zugewiesen geändert \*-Spalten in einer Reihe von Fällen:</span><span class="sxs-lookup"><span data-stu-id="969f8-104">This will change the actual width assigned to \*-columns in a number of cases:</span></span><ul><li><span data-ttu-id="969f8-105">Wenn eine oder mehrere \*-Spalten weisen auch eine minimale oder maximale Breite, die die Zuordnung des proportionale für diese columnstore überschreibt.</span><span class="sxs-lookup"><span data-stu-id="969f8-105">When one or more \*-columns also have a minimum or maximum width that overrides the proportional allocation for that colum.</span></span> <span data-ttu-id="969f8-106">(Die minimale Breite kann aus eine explizite Deklaration von MinWidth oder aus einem impliziten Minimum der Spalteninhalt abgerufenes ableiten.</span><span class="sxs-lookup"><span data-stu-id="969f8-106">(The minimum width can derive from an explicit MinWidth declaration, or from an implicit minimum obtained from the column's content.</span></span> <span data-ttu-id="969f8-107">Die maximale Breite kann nur explizit in einer Deklaration MaxWidth definiert werden.)</span><span class="sxs-lookup"><span data-stu-id="969f8-107">The maximum width can only be defined explicitly, from a MaxWidth declaration.)</span></span></li><li><span data-ttu-id="969f8-108">Wenn eine oder mehrere *-Spalten deklariert einen extrem großen *-Gewichtung, die größer als 10 ^ 298.</span><span class="sxs-lookup"><span data-stu-id="969f8-108">When one or more *-columns declare an extremely large *-weight, greater than 10^298.</span></span></li><li><span data-ttu-id="969f8-109">Wenn das \*-Gewichtungen sind ausreichend unterschiedlich Gleitkomma Instabilität (Überlauf, Unterlauf, einem Genauigkeitsverlust) auftreten.</span><span class="sxs-lookup"><span data-stu-id="969f8-109">When the \*-weights are sufficiently different to encounter floating-point instability (overflow, underflow, loss of precision).</span></span></li><li><span data-ttu-id="969f8-110">Wenn Layoutglättung aktiviert ist und der effektive DPI-Wert der Anzeige ausreichend hoch ist.</span><span class="sxs-lookup"><span data-stu-id="969f8-110">When layout rounding is enabled, and the effective display DPI is sufficiently high.</span></span></li></ul><span data-ttu-id="969f8-111">In den ersten beiden Fällen können die Breite, die durch den neuen Algorithmus erstellte wesentlich von denen unterscheiden, von der alten-Algorithmus erstellt werden; im letzten Fall wird der Unterschied darf höchstens ein oder zwei Pixel betragen. Der neue Algorithmus behebt mehrere Fehler in der alten Algorithmus vorhanden:</span><span class="sxs-lookup"><span data-stu-id="969f8-111">In the first two cases, the widths produced by the new algorithm can be significantly different from those produced by the old algorithm; in the last case, the difference will be at most one or two pixels.The new algorithm fixes several bugs present in the old algorithm:</span></span><ol><li><span data-ttu-id="969f8-112">Die Gesamtzuweisung an Spalten kann die Breite des Rasters überschreiten.</span><span class="sxs-lookup"><span data-stu-id="969f8-112">Total allocation to columns can exceed the Grid's width.</span></span> <span data-ttu-id="969f8-113">Dies kann beim Zuweisen von Platz an eine Spalte geschehen, deren proportionaler Anteil geringer als ihre Mindestgröße ist.</span><span class="sxs-lookup"><span data-stu-id="969f8-113">This can occur when allocating space to a column whose proportional share is less than its minimum size.</span></span> <span data-ttu-id="969f8-114">Der Algorithmus weist die Mindestgröße zu, wodurch der für andere Spalten verfügbare Platz verringert wird.</span><span class="sxs-lookup"><span data-stu-id="969f8-114">The algorithm allocates the minimum size, which decreases the space available to other columns.</span></span> <span data-ttu-id="969f8-115">Wenn es sind keine \*-Spalten links zuzuordnen, die gesamtzuordnung zu groß werden wird.</span><span class="sxs-lookup"><span data-stu-id="969f8-115">If there are no \*-columns left to allocate, the total allocation will be too large.</span></span></li><li><span data-ttu-id="969f8-116">Die Gesamtzuweisung kann die Breite des Rasters unterschreiten.</span><span class="sxs-lookup"><span data-stu-id="969f8-116">Total allocation can fall short of the Grid's width.</span></span> <span data-ttu-id="969f8-117">Dies ist das duale Problem mit #1, die sich ergeben, wenn die Zuweisung zu einer Spalte, deren proportionalen Anteil größer als die maximale Größe, ohne ist \*-Spalten, die Links, um die Slack auszufüllen.</span><span class="sxs-lookup"><span data-stu-id="969f8-117">This is the dual problem to #1, arising when allocating to a column whose proportional share is greater than its maximum size, with no \*-columns left to take up the slack.</span></span></li><li><span data-ttu-id="969f8-118">Zwei *-Spalten können nicht proportional zur Zuordnungen erhalten ihre *-Gewichtungen.</span><span class="sxs-lookup"><span data-stu-id="969f8-118">Two *-columns can receive allocations not proportional to their *-weights.</span></span> <span data-ttu-id="969f8-119">Dies ist eine mildere Version von Nr. 1/Nr. 2, die beim Zuweisen zu den \*-Spalten A, B und C (in dieser Reihenfolge) auftritt, wobei der proportionale Anteil von B gegen deren Min- oder Max-Bedingung verstößt.</span><span class="sxs-lookup"><span data-stu-id="969f8-119">This is a milder version of #1/#2, arising when allocating to \*-columns A, B, and C (in that order), where B's proportional share violates its min (or max) constraint.</span></span> <span data-ttu-id="969f8-120">Wie oben ändert sich dadurch der für Spalte C zur Verfügung stehende Platz, die proportional eine kleinere (oder größeren) Zuweisung als A erhält.</span><span class="sxs-lookup"><span data-stu-id="969f8-120">As above, this changes the space available to column C, who gets less (or more) proportional allocation than A did,</span></span></li><li><span data-ttu-id="969f8-121">Spalten mit extrem großen Gewichtungen (&gt; 10 ^ 298) alle behandelt, als ob Gewichtung 10 arbeitete ^ 298.</span><span class="sxs-lookup"><span data-stu-id="969f8-121">Columns with extremely large weights (&gt; 10^298) are all treated as if they had weight 10^298.</span></span> <span data-ttu-id="969f8-122">Proportionale Unterschiede zwischen ihnen (und zwischen Spalten mit erheblich kleineren Gewichtungen) werden nicht berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="969f8-122">Proportional differences between them (and between columns with slightly smaller weights) are not honored.</span></span></li><li><span data-ttu-id="969f8-123">Spalten mit Inifinte Gewichtungen werden nicht ordnungsgemäß behandelt.</span><span class="sxs-lookup"><span data-stu-id="969f8-123">Columns with inifinte weights are not handled correctly.</span></span> <span data-ttu-id="969f8-124">[Tatsächlich lässt sich die Gewichtung nicht auf unendlich festlegen, aber das ist eine künstliche Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="969f8-124">[Actually you can't set a weight to Infinity, but this is an artificial restriction.</span></span> <span data-ttu-id="969f8-125">Der Zuweisungscode hat versucht, das Problem zu behandeln, dabei aber versagt.]</span><span class="sxs-lookup"><span data-stu-id="969f8-125">The allocation code was trying to handle it, but doing a bad job.]</span></span></li><li><span data-ttu-id="969f8-126">Mehrere kleinere Probleme beim Vermeiden von Überlauf, Unterlauf, Genauigkeitsverlust und ähnlichen Gleitkommaproblemen.</span><span class="sxs-lookup"><span data-stu-id="969f8-126">Several minor problems while avoiding overflow, underflow, loss of precision and similar floating-point issues.</span></span></li><li><span data-ttu-id="969f8-127">Anpassungen für Layoutglättung sind bei ausreichend hohem DPI fehlerhaft.</span><span class="sxs-lookup"><span data-stu-id="969f8-127">Adjustments for layout rounding are incorrect at sufficiently high DPI.</span></span></li></ol><span data-ttu-id="969f8-128">Der neue Algorithmus führt zu Ergebnissen, die die folgenden Kriterien: ein erfüllen.</span><span class="sxs-lookup"><span data-stu-id="969f8-128">The new algorithm produces results that meet the following criteria:A.</span></span> <span data-ttu-id="969f8-129">Die tatsächliche Breite zugewiesen eine \*-Spalte ist nie kleiner als die minimale Breite noch größer als die maximale Breite. B.</span><span class="sxs-lookup"><span data-stu-id="969f8-129">The actual width assigned to a \*-column is never less than its minimum width nor greater than its maximum width.B.</span></span> <span data-ttu-id="969f8-130">Jede <em>-Spalte, die nicht die minimale oder maximale Breite ist zugewiesen proportional zur Breite seine <em>-Gewichtung. Genau, wenn zwei Spalten mit einer Breite von x deklariert werden</em> und y</em> , und wenn keine Spalte die minimale oder maximale Breite empfängt, die tatsächliche Breite V und w, die die Spalten zugewiesen sind, im selben Verhältnis: V / w == X / y.C.</span><span class="sxs-lookup"><span data-stu-id="969f8-130">Each <em>-column that is not assigned its minimum or maximum width is assigned a width proportional to its <em>-weight. To be precise, if two columns are declared with width x</em> and y</em> respectively, and if neither column receives its minimum or maximum width, the actual widths v and w assigned to the columns are in the same proportion: v / w == x / y.C.</span></span> <span data-ttu-id="969f8-131">Die Gesamtbreite zugeordnete &quot;proportional&quot; *-Spalten ist der verfügbare Speicherplatz gleich, nachdem Sie die eingeschränkte Spalten zugeordnet haben (behoben, auto, und *-Spalten, die die Breite Minimal- oder Maximalwerte zugewiesen werden).</span><span class="sxs-lookup"><span data-stu-id="969f8-131">The total width allocated to &quot;proportional&quot; *-columns is equal to the space available after allocating to the constrained columns (fixed, auto, and *-columns that are allocated their min or max width).</span></span> <span data-ttu-id="969f8-132">Dies ist möglicherweise NULL ist, z. B. wenn die Summe für die minimale Breite des Datenblatts Availbable Breite überschreitet. D.</span><span class="sxs-lookup"><span data-stu-id="969f8-132">This might be zero, for instance if the sum of the minimum widths exceeds the Grid's availbable width.D.</span></span> <span data-ttu-id="969f8-133">Alle diese Anweisungen sind in Bezug auf interpretiert werden die &quot;ideal&quot; Layout.</span><span class="sxs-lookup"><span data-stu-id="969f8-133">All these statements are to be interpreted with respect to the &quot;ideal&quot; layout.</span></span> <span data-ttu-id="969f8-134">Wenn die layoutglättung aktiviert ist, können die tatsächliche Breite von die ideale Breite so weit wie ein Pixel unterscheiden. Der alte Algorithmus berücksichtigt die sonstigen Kriterien in den oben beschriebenen Fällen konnte jedoch berücksichtigt, (A). Alles, was zu Spalten und Breite in diesem Artikel gesagt gilt auch für Zeilen und die Höhe.</span><span class="sxs-lookup"><span data-stu-id="969f8-134">When layout rounding is in effect, the actual widths can differ from the ideal widths by as much as one pixel.The old algorithm honored (A) but failed to honor the other criteria in the cases outlined above.Everything said about columns and widths in this article applies as well to rows and heights.</span></span>|
|<span data-ttu-id="969f8-135">Vorschlag</span><span class="sxs-lookup"><span data-stu-id="969f8-135">Suggestion</span></span>|<span data-ttu-id="969f8-136">Standardmäßig apps, die auf Versionen von .NET Framework, beginnend mit der .NET Framework-4.7 den neuen Algorithmus, während der apps angezeigt werden, die für .NET Framework 4.6.2 oder früheren Versionen den alten Algorithmus angezeigt werden. Um die Standardeinstellung zu überschreiben, verwenden Sie die folgende Konfigurationseinstellung:</span><span class="sxs-lookup"><span data-stu-id="969f8-136">By default, apps that target versions of the .NET Framework starting with the .NET Framework 4.7 will see the new algorithm, while apps that target the .NET Framework 4.6.2 or earlier versions will see the old algorithm.To override the default, use the following configuration setting:</span></span><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="969f8-137">Der Wert 'True' wählt den alten Algorithmus, "falsch" wählt den neuen Algorithmus an.</span><span class="sxs-lookup"><span data-stu-id="969f8-137">The value 'true' selects the old algorithm, 'false' selects the new algorithm.</span></span>|
|<span data-ttu-id="969f8-138">Bereich</span><span class="sxs-lookup"><span data-stu-id="969f8-138">Scope</span></span>|<span data-ttu-id="969f8-139">Gering</span><span class="sxs-lookup"><span data-stu-id="969f8-139">Minor</span></span>|
|<span data-ttu-id="969f8-140">Version</span><span class="sxs-lookup"><span data-stu-id="969f8-140">Version</span></span>|<span data-ttu-id="969f8-141">4.7</span><span class="sxs-lookup"><span data-stu-id="969f8-141">4.7</span></span>|
|<span data-ttu-id="969f8-142">Typ</span><span class="sxs-lookup"><span data-stu-id="969f8-142">Type</span></span>|<span data-ttu-id="969f8-143">Neuzuweisung</span><span class="sxs-lookup"><span data-stu-id="969f8-143">Retargeting</span></span>|

