### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture wird über WPF-Verteiler-Vorgänge nicht beibehalten.

|   |   |
|---|---|
|Details|Ab .NET Framework 4.6, Änderungen an <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> oder <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> innerhalb einer <xref:System.Windows.Threading.Dispatcher?displayProperty=name> am Ende dieses Vorgangs Dispatcher verloren. Auf ähnliche Weise ändert <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> oder <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> vorgenommen außerhalb einer Dispatcher Vorgang wird möglicherweise nicht beim übernommen werden, dass der Vorgang ausgeführt wird. Praktisch gesehen Dies bedeutet, dass <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> und <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> Änderungen möglicherweise nicht zwischen WPF UI Rückrufe und anderem Code in einer WPF-Anwendung übergeben. Dies ist aufgrund einer Änderung <xref:System.Threading.ExecutionContext?displayProperty=name> , wodurch der <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> und <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in den Kontext beginnend mit apps für .NET Framework 4.6 gespeichert werden. WPF-Verteilungsvorgänge speichern den Ausführungskontext, der dazu verwendet wurde, um den Vorgang zu beginnen und stellen den vorherigen Kontext wieder her, wenn der Vorgang abgeschlossen ist. Da <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> und <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> jetzt Bestandteil dieses Kontexts sind, bleiben innerhalb eines Dispatchervorgangs an ihnen vorgenommene Änderungen außerhalb des Vorgangs nicht erhalten.|
|Vorschlag|Apps, die von dieser Änderung betroffen möglicherweise umgehen synchronisierungsleistung, da das gewünschte <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> oder <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in einem Feld und alle Verteiler Vorgang Körper (einschließlich UI-Rückruf Ereignishandler) mit dem Einchecken, die den richtigen <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> und <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> festgelegt sind. Alternativ, da die ExecutionContext ändern zugrunde liegenden WPF Änderung betrifft nur apps, die für .NET Framework 4.6 oder höher, die dieser Umbruch kann vermieden werden, indem Sie als Ziel .NET Framework-4.5.2.Apps, die als Ziel .NET Framework 4.6 oder höher können auch arbeiten Um dies durch Festlegen der folgenden Informationen zur Kompatibilität zu wechseln:<pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Dieses Problem wurde von WPF im .NET Framework 4.6.2 behoben wurde. Wurde auch in .NET Framework 4.6, 4.6.1 über behoben [KB 3139549](https://support.microsoft.com/kb/3139549). Anwendungen für .NET 4.6 oder höher, erhalten automatisch das richtige Verhalten in WPF-Anwendungen - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) würde in den Verteilervorgänge beibehalten werden.|
|Bereich|Gering|
|Version|4.6|
|Typ|Neuzuweisung|

