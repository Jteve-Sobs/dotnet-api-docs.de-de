<Type Name="ReaderWriterLock" FullName="System.Threading.ReaderWriterLock">
  <Metadata><Meta Name="ms.openlocfilehash" Value="bd429f03843f931a0285a89a893ee1aa7ced9ae2" /><Meta Name="ms.sourcegitcommit" Value="8ae9a18b248625c8e1851e607c00346a64849587" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="de-DE" /><Meta Name="ms.lasthandoff" Value="12/17/2019" /><Meta Name="ms.locfileid" Value="75116071" /></Metadata><TypeSignature Language="C#" Value="public sealed class ReaderWriterLock : System.Runtime.ConstrainedExecution.CriticalFinalizerObject" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit ReaderWriterLock extends System.Runtime.ConstrainedExecution.CriticalFinalizerObject" />
  <TypeSignature Language="DocId" Value="T:System.Threading.ReaderWriterLock" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class ReaderWriterLock&#xA;Inherits CriticalFinalizerObject" />
  <TypeSignature Language="C++ CLI" Value="public ref class ReaderWriterLock sealed : System::Runtime::ConstrainedExecution::CriticalFinalizerObject" />
  <TypeSignature Language="F#" Value="type ReaderWriterLock = class&#xA;    inherit CriticalFinalizerObject" />
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Threading</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.1.2.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Runtime.ConstrainedExecution.CriticalFinalizerObject</BaseTypeName>
    <BaseTypeName FrameworkAlternate="netframework-1.1">System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="2f5a9-101">Definiert eine Sperre, die einen Writer und mehrere Reader unterstützt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-101">Defines a lock that supports single writers and multiple readers.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!IMPORTANT]
>  <span data-ttu-id="2f5a9-102">[!INCLUDE[dnprdnshort](~/includes/dnprdnshort-md.md)] verfügt über zwei Lese-/Schreibsperren, <xref:System.Threading.ReaderWriterLockSlim> und <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-102">The [!INCLUDE[dnprdnshort](~/includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>.</span></span> <span data-ttu-id="2f5a9-103"><xref:System.Threading.ReaderWriterLockSlim> wird für alle Neuentwicklungen empfohlen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-103"><xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development.</span></span> <span data-ttu-id="2f5a9-104"><xref:System.Threading.ReaderWriterLockSlim> ähnelt <xref:System.Threading.ReaderWriterLock>, verfügt aber über vereinfachte Regeln für Rekursion sowie für Upgrade und Downgrade des Sperrstatus.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-104"><xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state.</span></span> <span data-ttu-id="2f5a9-105"><xref:System.Threading.ReaderWriterLockSlim> vermeidet viele potenzielle Deadlocks.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-105"><xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock.</span></span> <span data-ttu-id="2f5a9-106">Darüber hinaus ist die Leistung von <xref:System.Threading.ReaderWriterLockSlim> wesentlich besser als die von <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-106">In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
 <span data-ttu-id="2f5a9-107"><xref:System.Threading.ReaderWriterLock> wird zum Synchronisieren des Zugriffs auf eine Ressource verwendet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-107"><xref:System.Threading.ReaderWriterLock> is used to synchronize access to a resource.</span></span> <span data-ttu-id="2f5a9-108">Es ermöglicht zu einem beliebigen Zeitpunkt entweder gleichzeitigen Lesezugriff auf mehrere Threads oder Schreibzugriff für einen einzelnen Thread.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-108">At any given time, it allows either concurrent read access for multiple threads, or write access for a single thread.</span></span> <span data-ttu-id="2f5a9-109">In einer Situation, in der eine Ressource nur selten geändert wird, bietet eine `ReaderWriterLock` einen besseren Durchsatz als eine einfache einmalige Sperre, z. b. <xref:System.Threading.Monitor>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-109">In a situation where a resource is changed infrequently, a `ReaderWriterLock` provides better throughput than a simple one-at-a-time lock, such as <xref:System.Threading.Monitor>.</span></span>  
  
 <span data-ttu-id="2f5a9-110">`ReaderWriterLock` funktioniert am besten, wenn die meisten Zugriffe Lesevorgänge sind, während Schreibvorgänge selten und kurze Zeit dauern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-110">`ReaderWriterLock` works best where most accesses are reads, while writes are infrequent and of short duration.</span></span> <span data-ttu-id="2f5a9-111">Mehrere Leser wechseln mit einzelnen Writern, sodass weder Leser noch Writer für lange Zeiträume blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-111">Multiple readers alternate with single writers, so that neither readers nor writers are blocked for long periods.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-112">Wenn Sie Lese-und Schreib Sperren für lange Zeiträume halten, werden andere Threads nicht mehr verwendet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-112">Holding reader locks or writer locks for long periods will starve other threads.</span></span> <span data-ttu-id="2f5a9-113">Um eine optimale Leistung zu erzielen, sollten Sie eine Umstrukturierung ihrer Anwendung in Erwägung gezogen haben</span><span class="sxs-lookup"><span data-stu-id="2f5a9-113">For best performance, consider restructuring your application to minimize the duration of writes.</span></span>  
  
 <span data-ttu-id="2f5a9-114">Ein Thread kann eine Lesesperre oder eine Writer-Sperre enthalten, jedoch nicht beides gleichzeitig.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-114">A thread can hold a reader lock or a writer lock, but not both at the same time.</span></span> <span data-ttu-id="2f5a9-115">Anstatt eine Lesesperre freizugeben, um die Writer-Sperre zu erhalten, können Sie <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> und <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A>verwenden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-115">Instead of releasing a reader lock in order to acquire the writer lock, you can use <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> and <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A>.</span></span>  
  
 <span data-ttu-id="2f5a9-116">Rekursive Sperr Anforderungen erhöhen die Sperrenanzahl für eine Sperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-116">Recursive lock requests increase the lock count on a lock.</span></span>  
  
 <span data-ttu-id="2f5a9-117">Reader und Writer werden separat in die Warteschlange eingereiht.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-117">Readers and writers are queued separately.</span></span> <span data-ttu-id="2f5a9-118">Wenn ein Thread die Schreibsperre freigibt, erhalten alle Threads, die zu diesem Zeitpunkt in der Leser Warteschlange warten, Lese sperren. Wenn alle diese Leser Sperren freigegeben wurden, erhält der nächste Thread, der in der Writer-Warteschlange wartet, ggf. die Schreibsperre, usw.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-118">When a thread releases the writer lock, all threads waiting in the reader queue at that instant are granted reader locks; when all of those reader locks have been released, the next thread waiting in the writer queue, if any, is granted the writer lock, and so on.</span></span> <span data-ttu-id="2f5a9-119">Mit anderen Worten: `ReaderWriterLock` wechselt zwischen einer Auflistung von Lesern und einem Writer.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-119">In other words, `ReaderWriterLock` alternates between a collection of readers, and one writer.</span></span>  
  
 <span data-ttu-id="2f5a9-120">Während ein Thread in der Writer-Warteschlange darauf wartet, dass aktive Lese Sperren freigegeben werden, werden Threads, die neue Leser Sperren anfordern, in der Leser Warteschlange gesammelt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-120">While a thread in the writer queue is waiting for active reader locks to be released, threads requesting new reader locks accumulate in the reader queue.</span></span> <span data-ttu-id="2f5a9-121">Ihre Anforderungen werden nicht erteilt, auch wenn Sie gleichzeitigen Zugriff auf vorhandene Reader-Lock-Inhaber haben können. Dies trägt dazu bei, Writer vor unbegrenzter Blockierung hin durch Leser zu schützen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-121">Their requests are not granted, even though they could share concurrent access with existing reader-lock holders; this helps protect writers against indefinite blockage by readers.</span></span>  
  
 <span data-ttu-id="2f5a9-122">Die meisten Methoden zum Abrufen von Sperren für eine `ReaderWriterLock` die Timeout Werte akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-122">Most methods for acquiring locks on a `ReaderWriterLock` accept time-out values.</span></span> <span data-ttu-id="2f5a9-123">Verwenden Sie Timeouts, um Deadlocks in der Anwendung zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-123">Use time-outs to avoid deadlocks in your application.</span></span> <span data-ttu-id="2f5a9-124">Ein Thread kann z. b. die Schreibsperre für eine Ressource abrufen und dann eine Lesesperre für eine zweite Ressource anfordern. in der Zwischenzeit kann ein anderer Thread die Schreibsperre für die zweite Ressource abrufen und eine Lesesperre für die erste anfordern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-124">For example, a thread might acquire the writer lock on one resource and then request a reader lock on a second resource; in the meantime, another thread might acquire the writer lock on the second resource, and request a reader lock on the first.</span></span> <span data-ttu-id="2f5a9-125">Wenn Timeouts nicht verwendet werden, Deadlock der Threads.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-125">Unless time-outs are used, the threads deadlock.</span></span>  
  
 <span data-ttu-id="2f5a9-126">Wenn das Timeout Intervall abläuft und die Sperranforderung nicht erteilt wurde, gibt die Methode die Steuerung an den aufrufenden Thread zurück, indem eine <xref:System.ApplicationException>ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-126">If the time-out interval expires and the lock request has not been granted, the method returns control to the calling thread by throwing an <xref:System.ApplicationException>.</span></span> <span data-ttu-id="2f5a9-127">Ein Thread kann diese Ausnahme abfangen und ermitteln, welche Aktion als nächstes ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-127">A thread can catch this exception and determine what action to take next.</span></span>  
  
 <span data-ttu-id="2f5a9-128">Timeouts werden in Millisekunden angegeben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-128">Time-outs are expressed in milliseconds.</span></span> <span data-ttu-id="2f5a9-129">Wenn Sie ein <xref:System.TimeSpan?displayProperty=nameWithType> verwenden, um das Timeout anzugeben, entspricht der verwendete Wert der Gesamtzahl ganzer Millisekunden, die durch die <xref:System.TimeSpan>dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-129">If you use a <xref:System.TimeSpan?displayProperty=nameWithType> to specify the time-out, the value used is the total number of whole milliseconds represented by the <xref:System.TimeSpan>.</span></span> <span data-ttu-id="2f5a9-130">In der folgenden Tabelle werden die gültigen Timeout Werte in Millisekunden angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-130">The following table shows the valid time-out values in milliseconds.</span></span>  
  
|<span data-ttu-id="2f5a9-131">Wert</span><span class="sxs-lookup"><span data-stu-id="2f5a9-131">Value</span></span>|<span data-ttu-id="2f5a9-132">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="2f5a9-132">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="2f5a9-133">-1</span><span class="sxs-lookup"><span data-stu-id="2f5a9-133">-1</span></span>|<span data-ttu-id="2f5a9-134">Der Thread wartet, bis die Sperre abgerufen wird, unabhängig davon, wie lange es dauert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-134">The thread waits until the lock is acquired, regardless of how long it takes.</span></span> <span data-ttu-id="2f5a9-135">Bei Methoden, die ganzzahlige Timeouts angeben, kann die Konstante <xref:System.Threading.Timeout.Infinite> verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-135">For methods that specify integer time-outs, the constant <xref:System.Threading.Timeout.Infinite> can be used.</span></span>|  
|<span data-ttu-id="2f5a9-136">0</span><span class="sxs-lookup"><span data-stu-id="2f5a9-136">0</span></span>|<span data-ttu-id="2f5a9-137">Der Thread wartet nicht darauf, die Sperre abzurufen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-137">The thread does not wait to acquire the lock.</span></span> <span data-ttu-id="2f5a9-138">Wenn die Sperre nicht sofort abgerufen werden kann, gibt die Methode zurück.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-138">If the lock cannot be acquired immediately, the method returns.</span></span>|  
|<span data-ttu-id="2f5a9-139">>0</span><span class="sxs-lookup"><span data-stu-id="2f5a9-139">>0</span></span>|<span data-ttu-id="2f5a9-140">Die Anzahl der Millisekunden, die gewartet werden soll.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-140">The number of milliseconds to wait.</span></span>|  
  
 <span data-ttu-id="2f5a9-141">Mit der Ausnahme-1 sind keine negativen Timeout Werte zulässig.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-141">With the exception of -1, negative time-out values are not allowed.</span></span> <span data-ttu-id="2f5a9-142">Wenn Sie eine negative ganze Zahl ungleich-1 angeben, wird stattdessen ein Timeout Wert von 0 (null) verwendet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-142">If you specify a negative integer other than -1, a time-out value of zero is used instead.</span></span> <span data-ttu-id="2f5a9-143">(Das heißt, die Methode gibt zurück, ohne zu warten, wenn die Sperre nicht sofort abgerufen werden kann.) Wenn Sie eine <xref:System.TimeSpan> angeben, die eine negative Anzahl von Millisekunden darstellt, die nicht-1 ist, wird <xref:System.ArgumentOutOfRangeException> ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-143">(That is, the method returns without waiting, if the lock cannot be acquired immediately.) If you specify a <xref:System.TimeSpan> that represents a negative number of milliseconds other than -1, <xref:System.ArgumentOutOfRangeException> is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-144">Im folgenden Beispiel wird veranschaulicht, wie ein <xref:System.Threading.ReaderWriterLock> verwendet wird, um eine freigegebene Ressource, einen ganzzahligen Wert mit dem Namen `resource`zu schützen, der gleichzeitig gelesen und exklusiv von mehreren Threads geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-144">The following example demonstrates how to use a <xref:System.Threading.ReaderWriterLock> to protect a shared resource, an integer value named `resource`, that is read concurrently and written exclusively by multiple threads.</span></span> <span data-ttu-id="2f5a9-145">Beachten Sie, dass die <xref:System.Threading.ReaderWriterLock> auf Klassenebene deklariert ist, sodass Sie für alle Threads sichtbar ist.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-145">Note that the <xref:System.Threading.ReaderWriterLock> is declared at the class level so that it is visible to all threads.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#1)]
 [!code-csharp[System.Threading.ReaderWriterLock#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#1)]
 [!code-vb[System.Threading.ReaderWriterLock#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#1)]  
  
 ]]></format>
    </remarks>
    <threadsafe><span data-ttu-id="2f5a9-146">Dieser Typ ist threadsicher.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-146">This type is thread safe.</span></span></threadsafe>
    <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-147">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-147">Managed Threading</span></span></related>
    <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-148">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-148">ReaderWriterLock</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ReaderWriterLock ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ReaderWriterLock();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="2f5a9-149">Initialisiert eine neue Instanz der <see cref="T:System.Threading.ReaderWriterLock" />-Klasse.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-149">Initializes a new instance of the <see cref="T:System.Threading.ReaderWriterLock" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="2f5a9-150">Im folgenden Codebeispiel wird gezeigt, wie eine neue Instanz der <xref:System.Threading.ReaderWriterLock>-Klasse erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-150">The following code example demonstrates how to create a new instance of the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 <span data-ttu-id="2f5a9-151">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-151">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-152">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-152">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-153">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-153">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="AcquireReaderLock">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="2f5a9-154">Erhält eine Lesesperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-154">Acquires a reader lock.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="AcquireReaderLock">
      <MemberSignature Language="C#" Value="public void AcquireReaderLock (int millisecondsTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void AcquireReaderLock(int32 millisecondsTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.AcquireReaderLock(System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Sub AcquireReaderLock (millisecondsTimeout As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AcquireReaderLock(int millisecondsTimeout);" />
      <MemberSignature Language="F#" Value="member this.AcquireReaderLock : int -&gt; unit" Usage="readerWriterLock.AcquireReaderLock millisecondsTimeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="millisecondsTimeout" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="millisecondsTimeout"><span data-ttu-id="2f5a9-155">Das Timeout in Millisekunden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-155">The time-out in milliseconds.</span></span></param>
        <summary><span data-ttu-id="2f5a9-156">Erhält eine Lesesperre unter Verwendung eines <see cref="T:System.Int32" />-Werts für das Timeout.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-156">Acquires a reader lock, using an <see cref="T:System.Int32" /> value for the time-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-157"><xref:System.Threading.ReaderWriterLock.AcquireReaderLock%2A> Blöcke, wenn ein anderer Thread die Schreibsperre aufweist oder wenn mindestens ein Thread auf die Schreibsperre wartet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-157"><xref:System.Threading.ReaderWriterLock.AcquireReaderLock%2A> blocks if a different thread has the writer lock, or if at least one thread is waiting for the writer lock.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-158">Wenn der aktuelle Thread bereits über die Schreibsperre verfügt, wird keine Lesesperre abgerufen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-158">If the current thread already has the writer lock, no reader lock is acquired.</span></span> <span data-ttu-id="2f5a9-159">Stattdessen wird die Sperrenanzahl für die Schreibsperre inkrementiert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-159">Instead, the lock count on the writer lock is incremented.</span></span> <span data-ttu-id="2f5a9-160">Dadurch wird verhindert, dass ein Thread seine eigene Schreibsperre blockiert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-160">This prevents a thread from blocking on its own writer lock.</span></span> <span data-ttu-id="2f5a9-161">Das Ergebnis ist identisch mit dem Aufrufen von <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, und ein zusätzlicher Aufruf an <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> ist erforderlich, wenn die Schreibsperre freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-161">The result is exactly the same as calling <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, and an additional call to <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> is required when releasing the writer lock.</span></span>  
  
 <span data-ttu-id="2f5a9-162">`AcquireReaderLock` unterstützt rekursive Reader-Lock-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-162">`AcquireReaderLock` supports recursive reader-lock requests.</span></span> <span data-ttu-id="2f5a9-163">Das heißt, ein Thread kann "acquirrereaderlock" mehrmals aufrufen, wodurch die Sperrenanzahl jedes Mal erhöht wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-163">That is, a thread can call AcquireReaderLock multiple times, which increments the lock count each time.</span></span> <span data-ttu-id="2f5a9-164">Sie müssen <xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> einmal für jedes Mal aufgerufen werden, wenn Sie `AcquireReaderLock`aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-164">You must call <xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> once for each time you call `AcquireReaderLock`.</span></span> <span data-ttu-id="2f5a9-165">Alternativ können Sie <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> aufzurufen, um die Sperrenanzahl sofort auf NULL zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-165">Alternatively, you can call <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> to reduce the lock count to zero immediately.</span></span>  
  
 <span data-ttu-id="2f5a9-166">Rekursive Sperr Anforderungen werden immer sofort erteilt, ohne dass der anfordernde Thread in der Leser Warteschlange platziert wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-166">Recursive lock requests are always granted immediately, without placing the requesting thread in the reader queue.</span></span> <span data-ttu-id="2f5a9-167">Verwenden Sie rekursive Sperren mit Vorsicht, um zu verhindern, dass Writer-Lock-Anforderungen lange Zeiträume blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-167">Use recursive locks with caution, to avoid blocking writer-lock requests for long periods.</span></span>  
  
 <span data-ttu-id="2f5a9-168">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-168">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-169">Im folgenden Codebeispiel wird veranschaulicht, wie eine Lesesperre abgerufen und freigegeben wird und wie die Ausnahme behandelt wird, die ausgelöst wird, wenn für eine Anforderung ein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-169">The following code example shows how to acquire and release a reader lock, and how to handle the exception thrown when a request times out.</span></span>  
  
 <span data-ttu-id="2f5a9-170">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-170">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#3](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#3)]
[!code-csharp[System.Threading.ReaderWriterLock#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#3)]
[!code-vb[System.Threading.ReaderWriterLock#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#3)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-171"><paramref name="millisecondsTimeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-171"><paramref name="millisecondsTimeout" /> expires before the lock request is granted.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-172">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-172">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-173">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-173">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AcquireReaderLock">
      <MemberSignature Language="C#" Value="public void AcquireReaderLock (TimeSpan timeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void AcquireReaderLock(valuetype System.TimeSpan timeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.AcquireReaderLock(System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Sub AcquireReaderLock (timeout As TimeSpan)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AcquireReaderLock(TimeSpan timeout);" />
      <MemberSignature Language="F#" Value="member this.AcquireReaderLock : TimeSpan -&gt; unit" Usage="readerWriterLock.AcquireReaderLock timeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="timeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="timeout"><span data-ttu-id="2f5a9-174">Eine <see langword="TimeSpan" />, die den Timeoutzeitraum angibt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-174">A <see langword="TimeSpan" /> specifying the time-out period.</span></span></param>
        <summary><span data-ttu-id="2f5a9-175">Erhält eine Lesesperre unter Verwendung eines <see cref="T:System.TimeSpan" />-Werts für das Timeout.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-175">Acquires a reader lock, using a <see cref="T:System.TimeSpan" /> value for the time-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-176"><xref:System.Threading.ReaderWriterLock.AcquireReaderLock%2A> Blöcke, wenn ein anderer Thread die Schreibsperre aufweist oder wenn mindestens ein Thread auf die Schreibsperre wartet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-176"><xref:System.Threading.ReaderWriterLock.AcquireReaderLock%2A> blocks if a different thread has the writer lock, or if at least one thread is waiting for the writer lock.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-177">Wenn der aktuelle Thread bereits über die Schreibsperre verfügt, wird keine Lesesperre abgerufen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-177">If the current thread already has the writer lock, no reader lock is acquired.</span></span> <span data-ttu-id="2f5a9-178">Stattdessen wird die Sperrenanzahl für die Schreibsperre inkrementiert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-178">Instead, the lock count on the writer lock is incremented.</span></span> <span data-ttu-id="2f5a9-179">Dadurch wird verhindert, dass ein Thread seine eigene Schreibsperre blockiert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-179">This prevents a thread from blocking on its own writer lock.</span></span> <span data-ttu-id="2f5a9-180">Das Ergebnis ist identisch mit dem Aufrufen von <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, und ein zusätzlicher Aufruf an <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> ist erforderlich, wenn die Schreibsperre freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-180">The result is exactly the same as calling <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, and an additional call to <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> is required when releasing the writer lock.</span></span>  
  
 <span data-ttu-id="2f5a9-181">`AcquireReaderLock` unterstützt rekursive Reader-Lock-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-181">`AcquireReaderLock` supports recursive reader-lock requests.</span></span> <span data-ttu-id="2f5a9-182">Das heißt, ein Thread kann "acquirrereaderlock" mehrmals aufrufen, wodurch die Sperrenanzahl jedes Mal erhöht wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-182">That is, a thread can call AcquireReaderLock multiple times, which increments the lock count each time.</span></span> <span data-ttu-id="2f5a9-183">Sie müssen <xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> einmal für jedes Mal aufgerufen werden, wenn Sie `AcquireReaderLock`aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-183">You must call <xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> once for each time you call `AcquireReaderLock`.</span></span> <span data-ttu-id="2f5a9-184">Alternativ können Sie <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> aufzurufen, um die Sperrenanzahl sofort auf NULL zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-184">Alternatively, you can call <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> to reduce the lock count to zero immediately.</span></span>  
  
 <span data-ttu-id="2f5a9-185">Rekursive Sperr Anforderungen werden immer sofort erteilt, ohne dass der anfordernde Thread in der Leser Warteschlange platziert wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-185">Recursive lock requests are always granted immediately, without placing the requesting thread in the reader queue.</span></span> <span data-ttu-id="2f5a9-186">Verwenden Sie rekursive Sperren mit Vorsicht, um zu verhindern, dass Writer-Lock-Anforderungen lange Zeiträume blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-186">Use recursive locks with caution, to avoid blocking writer-lock requests for long periods.</span></span>  
  
 <span data-ttu-id="2f5a9-187">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-187">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-188"><paramref name="timeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-188"><paramref name="timeout" /> expires before the lock request is granted.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="2f5a9-189"><paramref name="timeout" /> gibt einen negativen Wert ungleich -1 Millisekunden an.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-189"><paramref name="timeout" /> specifies a negative value other than -1 milliseconds.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-190">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-190">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-191">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-191">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="AcquireWriterLock">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="2f5a9-192">Erhält die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-192">Acquires the writer lock.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="AcquireWriterLock">
      <MemberSignature Language="C#" Value="public void AcquireWriterLock (int millisecondsTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void AcquireWriterLock(int32 millisecondsTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.AcquireWriterLock(System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Sub AcquireWriterLock (millisecondsTimeout As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AcquireWriterLock(int millisecondsTimeout);" />
      <MemberSignature Language="F#" Value="member this.AcquireWriterLock : int -&gt; unit" Usage="readerWriterLock.AcquireWriterLock millisecondsTimeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="millisecondsTimeout" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="millisecondsTimeout"><span data-ttu-id="2f5a9-193">Das Timeout in Millisekunden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-193">The time-out in milliseconds.</span></span></param>
        <summary><span data-ttu-id="2f5a9-194">Erhält die Schreibsperre unter Verwendung eines <see cref="T:System.Int32" />-Werts für das Timeout.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-194">Acquires the writer lock, using an <see cref="T:System.Int32" /> value for the time-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-195">Diese Methode blockiert, wenn ein anderer Thread über eine Lesesperre oder eine Schreibsperre verfügt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-195">This method blocks if another thread has a reader lock or writer lock.</span></span> <span data-ttu-id="2f5a9-196">Eine Beschreibung der Art und Weise, wie die Writer-Sperre mit mehreren gleichzeitigen readersperren wechselt, finden Sie in der <xref:System.Threading.ReaderWriterLock>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-196">For a description of the way the writer lock alternates with multiple concurrent reader locks, see the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 <span data-ttu-id="2f5a9-197">Ein Thread, der bereits über eine Lesesperre verfügt, kann die Schreibsperre auf zwei Arten abrufen: durch Freigeben der Lesesperre vor dem Aufrufen von <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>oder durch Aufrufen von <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-197">A thread that already has a reader lock can acquire the writer lock in one of two ways: by releasing the reader lock before calling <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, or by calling <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="2f5a9-198">Wenn ein Thread `AcquireWriterLock` aufruft, während er immer noch über eine Lesesperre verfügt, blockiert er seine eigene Readersperre. Wenn ein unendliches Timeout angegeben ist, wird der Thread in einen Deadlock geraten.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-198">If a thread calls `AcquireWriterLock` while it still has a reader lock, it will block on its own reader lock; if an infinite time-out is specified, the thread will deadlock.</span></span> <span data-ttu-id="2f5a9-199">Um solche Deadlocks zu vermeiden, verwenden Sie <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A>, um zu bestimmen, ob der aktuelle Thread bereits über eine Lesesperre verfügt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-199">To avoid such deadlocks, use <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A> to determine whether the current thread already has a reader lock.</span></span>  
  
 <span data-ttu-id="2f5a9-200">`AcquireWriterLock` unterstützt rekursive Writer-Lock-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-200">`AcquireWriterLock` supports recursive writer-lock requests.</span></span> <span data-ttu-id="2f5a9-201">Das heißt, ein Thread kann `AcquireWriterLock` mehrmals aufzurufen, wodurch die Anzahl der Sperren jedes Mal erhöht wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-201">That is, a thread can call `AcquireWriterLock` multiple times, which increments the lock count each time.</span></span> <span data-ttu-id="2f5a9-202">Sie müssen <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> einmal für jedes Mal aufgerufen werden, wenn Sie `AcquireWriterLock`aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-202">You must call <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> once for each time you call `AcquireWriterLock`.</span></span> <span data-ttu-id="2f5a9-203">Alternativ können Sie <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> aufzurufen, um die Sperrenanzahl sofort auf NULL zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-203">Alternatively, you can call <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> to reduce the lock count to zero immediately.</span></span>  
  
 <span data-ttu-id="2f5a9-204">Rekursive Sperr Anforderungen werden immer sofort erteilt, ohne dass der anfordernde Thread in der Writer-Warteschlange platziert wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-204">Recursive lock requests are always granted immediately, without placing the requesting thread in the writer queue.</span></span>  
  
 <span data-ttu-id="2f5a9-205">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-205">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-206">Im folgenden Codebeispiel wird veranschaulicht, wie eine Writer-Sperre abgerufen und freigegeben wird und wie die Ausnahme behandelt wird, die ausgelöst wird, wenn für eine Anforderung ein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-206">The following code example shows how to acquire and release a writer lock, and how to handle the exception thrown when a request times out.</span></span>  
  
 <span data-ttu-id="2f5a9-207">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-207">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#4](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#4)]
[!code-csharp[System.Threading.ReaderWriterLock#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#4)]
[!code-vb[System.Threading.ReaderWriterLock#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#4)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-208"><paramref name="timeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-208"><paramref name="timeout" /> expires before the lock request is granted.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-209">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-209">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-210">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-210">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AcquireWriterLock">
      <MemberSignature Language="C#" Value="public void AcquireWriterLock (TimeSpan timeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void AcquireWriterLock(valuetype System.TimeSpan timeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.AcquireWriterLock(System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Sub AcquireWriterLock (timeout As TimeSpan)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AcquireWriterLock(TimeSpan timeout);" />
      <MemberSignature Language="F#" Value="member this.AcquireWriterLock : TimeSpan -&gt; unit" Usage="readerWriterLock.AcquireWriterLock timeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="timeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="timeout"><span data-ttu-id="2f5a9-211">Die <see langword="TimeSpan" />, die den Timeoutzeitraum angibt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-211">The <see langword="TimeSpan" /> specifying the time-out period.</span></span></param>
        <summary><span data-ttu-id="2f5a9-212">Erhält die Schreibsperre unter Verwendung eines <see cref="T:System.TimeSpan" />-Werts für das Timeout.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-212">Acquires the writer lock, using a <see cref="T:System.TimeSpan" /> value for the time-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-213">Diese Methode blockiert, wenn ein anderer Thread über eine Lesesperre oder eine Schreibsperre verfügt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-213">This method blocks if another thread has a reader lock or writer lock.</span></span> <span data-ttu-id="2f5a9-214">Eine Beschreibung der Art und Weise, wie die Writer-Sperre mit mehreren gleichzeitigen readersperren wechselt, finden Sie in der <xref:System.Threading.ReaderWriterLock>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-214">For a description of the way the writer lock alternates with multiple concurrent reader locks, see the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 <span data-ttu-id="2f5a9-215">Ein Thread, der bereits über eine Lesesperre verfügt, kann die Schreibsperre auf zwei Arten abrufen: durch Freigeben der Lesesperre vor dem Aufrufen von <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>oder durch Aufrufen von <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-215">A thread that already has a reader lock can acquire the writer lock in one of two ways: by releasing the reader lock before calling <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>, or by calling <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="2f5a9-216">Wenn ein Thread `AcquireWriterLock` aufruft, während er immer noch über eine Lesesperre verfügt, blockiert er seine eigene Readersperre. Wenn ein unendliches Timeout angegeben ist, wird der Thread in einen Deadlock geraten.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-216">If a thread calls `AcquireWriterLock` while it still has a reader lock, it will block on its own reader lock; if an infinite time-out is specified, the thread will deadlock.</span></span> <span data-ttu-id="2f5a9-217">Um solche Deadlocks zu vermeiden, verwenden Sie <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A>, um zu bestimmen, ob der aktuelle Thread bereits über eine Lesesperre verfügt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-217">To avoid such deadlocks, use <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A> to determine whether the current thread already has a reader lock.</span></span>  
  
 <span data-ttu-id="2f5a9-218">`AcquireWriterLock` unterstützt rekursive Writer-Lock-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-218">`AcquireWriterLock` supports recursive writer-lock requests.</span></span> <span data-ttu-id="2f5a9-219">Das heißt, ein Thread kann `AcquireWriterLock` mehrmals aufzurufen, wodurch die Anzahl der Sperren jedes Mal erhöht wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-219">That is, a thread can call `AcquireWriterLock` multiple times, which increments the lock count each time.</span></span> <span data-ttu-id="2f5a9-220">Sie müssen <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> einmal für jedes Mal aufgerufen werden, wenn Sie `AcquireWriterLock`aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-220">You must call <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> once for each time you call `AcquireWriterLock`.</span></span> <span data-ttu-id="2f5a9-221">Alternativ können Sie <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> aufzurufen, um die Sperrenanzahl sofort auf NULL zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-221">Alternatively, you can call <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> to reduce the lock count to zero immediately.</span></span>  
  
 <span data-ttu-id="2f5a9-222">Rekursive Sperr Anforderungen werden immer sofort erteilt, ohne dass der anfordernde Thread in der Writer-Warteschlange platziert wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-222">Recursive lock requests are always granted immediately, without placing the requesting thread in the writer queue.</span></span>  
  
 <span data-ttu-id="2f5a9-223">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-223">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-224"><paramref name="timeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-224"><paramref name="timeout" /> expires before the lock request is granted.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="2f5a9-225"><paramref name="timeout" /> gibt einen negativen Wert ungleich -1 Millisekunden an.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-225"><paramref name="timeout" /> specifies a negative value other than -1 milliseconds.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-226">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-226">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-227">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-227">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="AnyWritersSince">
      <MemberSignature Language="C#" Value="public bool AnyWritersSince (int seqNum);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool AnyWritersSince(int32 seqNum) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.AnyWritersSince(System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function AnyWritersSince (seqNum As Integer) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool AnyWritersSince(int seqNum);" />
      <MemberSignature Language="F#" Value="member this.AnyWritersSince : int -&gt; bool" Usage="readerWriterLock.AnyWritersSince seqNum" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="seqNum" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="seqNum"><span data-ttu-id="2f5a9-228">Die Sequenznummer.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-228">The sequence number.</span></span></param>
        <summary><span data-ttu-id="2f5a9-229">Gibt an, ob einem Thread die Schreibsperre erteilt wurde, seitdem die Sequenznummer erhalten wurde.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-229">Indicates whether the writer lock has been granted to any thread since the sequence number was obtained.</span></span></summary>
        <returns><span data-ttu-id="2f5a9-230"><see langword="true" />, wenn einem Thread die Schreibsperre erteilt wurde, seitdem die Sequenznummer erhalten wurde, andernfalls <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-230"><see langword="true" /> if the writer lock has been granted to any thread since the sequence number was obtained; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-231">Sie können <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A> und `AnyWritersSince` verwenden, um die Anwendungsleistung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-231">You can use <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A> and `AnyWritersSince` to improve application performance.</span></span> <span data-ttu-id="2f5a9-232">Ein Thread kann z. b. die Informationen zwischenspeichern, die er beim Aufrechterhalten einer Lesesperre erhält.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-232">For example, a thread might cache the information it obtains while holding a reader lock.</span></span> <span data-ttu-id="2f5a9-233">Nach dem Freigeben und späteren erneuten Erwerb der Sperre kann der Thread mithilfe von `AnyWritersSince` ermitteln, ob andere Threads in der Zwischenzeit in die Ressource geschrieben wurden. Andernfalls können die zwischengespeicherten Informationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-233">After releasing and later reacquiring the lock, the thread can use `AnyWritersSince` to determine whether other threads have written to the resource in the interim; if not, the cached information can be used.</span></span> <span data-ttu-id="2f5a9-234">Diese Technik ist hilfreich, wenn das Lesen der durch die Sperre geschützten Informationen teuer ist. beispielsweise das Ausführen einer Datenbankabfrage.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-234">This technique is useful where reading the information protected by the lock is expensive; for example, running a database query.</span></span>  
  
 <span data-ttu-id="2f5a9-235">Der Aufrufer muss eine Lesesperre oder eine Writer-Sperre aufweisen, damit die Sequenznummer nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-235">The caller must be holding a reader lock or a writer lock in order for the sequence number to be useful.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-236">Im folgenden Codebeispiel wird gezeigt, wie die <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A>-Methode und die <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A>-Eigenschaft verwendet werden, um zu bestimmen, ob ein anderer Thread die Schreibsperre für die geschützte Ressource abgerufen hat, da der aktuelle Thread zuletzt die Schreibsperre aufrechterhalten hat.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-236">The following code example shows how to use the <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A> method and the <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A> property to determine whether another thread acquired the writer lock on the protected resource since the current thread last held the writer lock.</span></span>  
  
 <span data-ttu-id="2f5a9-237">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-237">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#6)]
[!code-csharp[System.Threading.ReaderWriterLock#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#6)]
[!code-vb[System.Threading.ReaderWriterLock#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#6)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-238">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-238">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-239">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-239">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="DowngradeFromWriterLock">
      <MemberSignature Language="C#" Value="public void DowngradeFromWriterLock (ref System.Threading.LockCookie lockCookie);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DowngradeFromWriterLock(valuetype System.Threading.LockCookie&amp; lockCookie) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.DowngradeFromWriterLock(System.Threading.LockCookie@)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DowngradeFromWriterLock (ByRef lockCookie As LockCookie)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DowngradeFromWriterLock(System::Threading::LockCookie % lockCookie);" />
      <MemberSignature Language="F#" Value="member this.DowngradeFromWriterLock : LockCookie -&gt; unit" Usage="readerWriterLock.DowngradeFromWriterLock lockCookie" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="lockCookie" Type="System.Threading.LockCookie" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="lockCookie"><span data-ttu-id="2f5a9-240">Ein von <see cref="T:System.Threading.LockCookie" /> zurückgegebenes <see cref="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.Int32)" />.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-240">A <see cref="T:System.Threading.LockCookie" /> returned by <see cref="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.Int32)" />.</span></span></param>
        <summary><span data-ttu-id="2f5a9-241">Stellt den Sperrstatus des Threads mit dem Status vor dem Aufruf von <see cref="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.Int32)" /> wieder her.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-241">Restores the lock status of the thread to what it was before <see cref="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.Int32)" /> was called.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-242"><xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> gibt die Schreibsperre unabhängig von der rekursiven Sperr Anzahl frei und stellt die Lesesperre wieder her, die vom Thread vor dem Upgrade auf die Writer-Sperre aufrechterhalten wurde.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-242"><xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> releases the writer lock, regardless of the recursive lock count, and restores the reader lock that was held by the thread before upgrading to the writer lock.</span></span> <span data-ttu-id="2f5a9-243">Die Sperrenanzahl für die Lesesperre wird wieder hergestellt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-243">The lock count on the reader lock is restored.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-244">`DowngradeFromWriterLock` akzeptiert eine <xref:System.Threading.LockCookie>, die durch den Aufruf von <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-244">`DowngradeFromWriterLock` accepts a <xref:System.Threading.LockCookie> obtained by calling <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span></span> <span data-ttu-id="2f5a9-245">Verwenden Sie keine von <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>zurückgegebene `LockCookie`.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-245">Do not use a `LockCookie` returned by <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>.</span></span>  
  
 <span data-ttu-id="2f5a9-246">Ein Thread wird beim Downgrade von der Schreibsperre nicht blockiert, auch wenn andere Threads auf die Schreibsperre warten, weil alle Lese-/Sperranforderungen bei der Freigabe der Writer-Sperre erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-246">A thread does not block when downgrading from the writer lock, even if other threads are waiting for the writer lock, because all reader-lock requests are granted when the writer lock is released.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-247">Das folgende Codebeispiel zeigt, wie Sie eine Lesesperre anfordern, die Lesesperre auf eine Writer-Sperre aktualisieren und erneut auf eine Lesesperre herabstufen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-247">The following code example shows how to request a reader lock, upgrade the reader lock to a writer lock, and downgrade to a reader lock again.</span></span>  
  
 <span data-ttu-id="2f5a9-248">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-248">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#5](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#5)]
[!code-csharp[System.Threading.ReaderWriterLock#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#5)]
[!code-vb[System.Threading.ReaderWriterLock#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#5)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-249">Der Thread verfügt nicht über die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-249">The thread does not have the writer lock.</span></span></exception>
        <exception cref="T:System.NullReferenceException"><span data-ttu-id="2f5a9-250">Die Adresse von <paramref name="lockCookie" /> ist ein NULL-Zeiger.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-250">The address of <paramref name="lockCookie" /> is a null pointer.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-251">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-251">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-252">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-252">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Finalize">
      <MemberSignature Language="C#" Value="~ReaderWriterLock ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void Finalize() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.Finalize" />
      <MemberSignature Language="VB.NET" Value="Finalize ()" />
      <MemberSignature Language="C++ CLI" Value="!ReaderWriterLock ()" />
      <MemberSignature Language="F#" Value="override this.Finalize : unit -&gt; unit" Usage="readerWriterLock.Finalize " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="2f5a9-253">Stellt das Freigeben von Ressourcen und das Ausführen anderer Garbage Collector-Vorgänge sicher, wenn der Garbage Collector das <see cref="T:System.Threading.ReaderWriterLock" />-Objekt verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-253">Ensures that resources are freed and other cleanup operations are performed when the garbage collector reclaims the <see cref="T:System.Threading.ReaderWriterLock" /> object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-254">Der Garbage Collector ruft <xref:System.Threading.ReaderWriterLock.Finalize%2A> auf, wenn das aktuelle <xref:System.Threading.ReaderWriterLock> Objekt bereit für die Fertigstellung ist.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-254">The garbage collector calls <xref:System.Threading.ReaderWriterLock.Finalize%2A> when the current <xref:System.Threading.ReaderWriterLock> object is ready to be finalized.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsReaderLockHeld">
      <MemberSignature Language="C#" Value="public bool IsReaderLockHeld { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsReaderLockHeld" />
      <MemberSignature Language="DocId" Value="P:System.Threading.ReaderWriterLock.IsReaderLockHeld" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property IsReaderLockHeld As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsReaderLockHeld { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.IsReaderLockHeld : bool" Usage="System.Threading.ReaderWriterLock.IsReaderLockHeld" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>get: System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.Success)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>get: System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2f5a9-255">Ruft einen Wert ab, der angibt, ob der aktuelle Thread eine Lesesperre besitzt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-255">Gets a value indicating whether the current thread holds a reader lock.</span></span></summary>
        <value><span data-ttu-id="2f5a9-256"><see langword="true" />, wenn der aktuelle Thread eine Lesesperre aufweist, andernfalls <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-256"><see langword="true" /> if the current thread holds a reader lock; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="2f5a9-257">Im folgenden Codebeispiel wird veranschaulicht, wie `IsReaderLockHeld` verwendet wird, um Deadlocks zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-257">The following code example demonstrates how to use `IsReaderLockHeld` to avoid deadlocks.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/CPP/source.cpp#1)]
 [!code-csharp[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/CS/source.cs#1)]
 [!code-vb[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/VB/source.vb#1)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-258">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-258">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-259">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-259">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsWriterLockHeld">
      <MemberSignature Language="C#" Value="public bool IsWriterLockHeld { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsWriterLockHeld" />
      <MemberSignature Language="DocId" Value="P:System.Threading.ReaderWriterLock.IsWriterLockHeld" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property IsWriterLockHeld As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsWriterLockHeld { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.IsWriterLockHeld : bool" Usage="System.Threading.ReaderWriterLock.IsWriterLockHeld" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>get: System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.Success)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>get: System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2f5a9-260">Ruft einen Wert ab, der angibt, ob der aktuelle Thread die Schreibsperre enthält.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-260">Gets a value indicating whether the current thread holds the writer lock.</span></span></summary>
        <value><span data-ttu-id="2f5a9-261"><see langword="true" />, wenn der aktuelle Thread die Schreibsperre enthält, andernfalls <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-261"><see langword="true" /> if the current thread holds the writer lock; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="2f5a9-262">Im folgenden Codebeispiel wird veranschaulicht, dass beim Versuch, eine Readersperre für einen Thread mit einer Schreibsperre zu erhalten, `ReaderWriterLock` die Lesesperre nicht gewährt, sondern stattdessen die Sperrenanzahl für die Schreibsperre erhöht.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-262">The following code example demonstrates that when an attempt is made to acquire a reader lock on a thread that has a writer lock, `ReaderWriterLock` does not grant the reader lock but instead increments the lock count on the writer lock.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/CPP/source.cpp#1)]
 [!code-csharp[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/CS/source.cs#1)]
 [!code-vb[System.Threading.ReaderWriterLock.IsWriterLockHeld#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock.IsWriterLockHeld/VB/source.vb#1)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-263">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-263">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-264">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-264">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ReleaseLock">
      <MemberSignature Language="C#" Value="public System.Threading.LockCookie ReleaseLock ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance valuetype System.Threading.LockCookie ReleaseLock() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.ReleaseLock" />
      <MemberSignature Language="VB.NET" Value="Public Function ReleaseLock () As LockCookie" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::LockCookie ReleaseLock();" />
      <MemberSignature Language="F#" Value="member this.ReleaseLock : unit -&gt; System.Threading.LockCookie" Usage="readerWriterLock.ReleaseLock " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.LockCookie</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="2f5a9-265">Hebt die Sperre unabhängig davon auf, wie oft dem Thread die Sperre zugewiesen wurde.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-265">Releases the lock, regardless of the number of times the thread acquired the lock.</span></span></summary>
        <returns><span data-ttu-id="2f5a9-266">Ein <see cref="T:System.Threading.LockCookie" />-Wert, der die aufgehobene Sperre darstellt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-266">A <see cref="T:System.Threading.LockCookie" /> value representing the released lock.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-267"><xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> gibt die Lese-oder Schreibsperre unabhängig von der rekursiven Sperr Anzahl frei.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-267"><xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> releases the reader lock or writer lock, regardless of the recursive lock count.</span></span> <span data-ttu-id="2f5a9-268">Um den Zustand der Sperre wiederherzustellen, einschließlich der Sperrenanzahl, übergeben Sie den <xref:System.Threading.LockCookie> an <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-268">To restore the state of the lock, including the lock count, pass the <xref:System.Threading.LockCookie> to <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-269">Im folgenden Codebeispiel wird gezeigt, wie die <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>-Methode verwendet wird, um die Sperre freizugeben, unabhängig davon, wie oft Sie durch den Thread abgerufen wurde, und wie der Zustand der Sperre später wieder hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-269">The following code example shows how to use the <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> method to release the lock, regardless of how many times it has been acquired by the thread, and how to restore the state of the lock later.</span></span>  
  
 <span data-ttu-id="2f5a9-270">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-270">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#6)]
[!code-csharp[System.Threading.ReaderWriterLock#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#6)]
[!code-vb[System.Threading.ReaderWriterLock#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#6)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-271">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-271">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-272">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-272">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ReleaseReaderLock">
      <MemberSignature Language="C#" Value="public void ReleaseReaderLock ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void ReleaseReaderLock() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.ReleaseReaderLock" />
      <MemberSignature Language="VB.NET" Value="Public Sub ReleaseReaderLock ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ReleaseReaderLock();" />
      <MemberSignature Language="F#" Value="member this.ReleaseReaderLock : unit -&gt; unit" Usage="readerWriterLock.ReleaseReaderLock " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.Success)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="2f5a9-273">Verringert die Sperrenanzahl.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-273">Decrements the lock count.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-274"><xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> Dekrementen die Sperrenanzahl.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-274"><xref:System.Threading.ReaderWriterLock.ReleaseReaderLock%2A> decrements the lock count.</span></span> <span data-ttu-id="2f5a9-275">Wenn die Anzahl 0 (null) erreicht, wird die Sperre freigegeben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-275">When the count reaches zero, the lock is released.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-276">Wenn ein Thread die Schreibsperre besitzt, hat der Aufruf von `ReleaseReaderLock` denselben Effekt wie das Aufrufen von <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-276">If a thread has the writer lock, calling `ReleaseReaderLock` has the same effect as calling <xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A>.</span></span> <span data-ttu-id="2f5a9-277">Wenn ein Thread keine Sperren hat, löst der Aufruf von `ReleaseReaderLock` eine <xref:System.ApplicationException>aus.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-277">If a thread has no locks, calling `ReleaseReaderLock` throws an <xref:System.ApplicationException>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-278">Im folgenden Codebeispiel wird veranschaulicht, wie eine Lesesperre abgerufen und freigegeben wird und wie die Ausnahme behandelt wird, die ausgelöst wird, wenn für eine Anforderung ein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-278">The following code example shows how to acquire and release a reader lock, and how to handle the exception thrown when a request times out.</span></span>  
  
 <span data-ttu-id="2f5a9-279">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-279">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#3](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#3)]
[!code-csharp[System.Threading.ReaderWriterLock#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#3)]
[!code-vb[System.Threading.ReaderWriterLock#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#3)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-280">Der Thread verfügt weder über Lese- noch über Schreibsperren.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-280">The thread does not have any reader or writer locks.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-281">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-281">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-282">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-282">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ReleaseWriterLock">
      <MemberSignature Language="C#" Value="public void ReleaseWriterLock ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void ReleaseWriterLock() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.ReleaseWriterLock" />
      <MemberSignature Language="VB.NET" Value="Public Sub ReleaseWriterLock ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ReleaseWriterLock();" />
      <MemberSignature Language="F#" Value="member this.ReleaseWriterLock : unit -&gt; unit" Usage="readerWriterLock.ReleaseWriterLock " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.Success)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="2f5a9-283">Verringert die Sperrenanzahl für die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-283">Decrements the lock count on the writer lock.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-284"><xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> Dekrement the Writer Lock count.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-284"><xref:System.Threading.ReaderWriterLock.ReleaseWriterLock%2A> decrements the writer lock count.</span></span> <span data-ttu-id="2f5a9-285">Wenn die Anzahl 0 (null) erreicht, wird die Writer-Sperre freigegeben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-285">When the count reaches zero, the writer lock is released.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2f5a9-286">Wenn ein Thread über eine Lesesperre oder eine Sperre verfügt, wird beim Aufrufen von `ReleaseWriterLock` eine <xref:System.ApplicationException>ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-286">If a thread has a reader lock, or no locks, calling `ReleaseWriterLock` throws an <xref:System.ApplicationException>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-287">Im folgenden Codebeispiel wird veranschaulicht, wie eine Writer-Sperre abgerufen und freigegeben wird und wie die Ausnahme behandelt wird, die ausgelöst wird, wenn für eine Anforderung ein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-287">The following code example shows how to acquire and release a writer lock, and how to handle the exception thrown when a request times out.</span></span>  
  
 <span data-ttu-id="2f5a9-288">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-288">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#4](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#4)]
[!code-csharp[System.Threading.ReaderWriterLock#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#4)]
[!code-vb[System.Threading.ReaderWriterLock#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#4)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-289">Der Thread verfügt nicht über die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-289">The thread does not have the writer lock.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-290">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-290">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-291">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-291">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RestoreLock">
      <MemberSignature Language="C#" Value="public void RestoreLock (ref System.Threading.LockCookie lockCookie);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void RestoreLock(valuetype System.Threading.LockCookie&amp; lockCookie) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.RestoreLock(System.Threading.LockCookie@)" />
      <MemberSignature Language="VB.NET" Value="Public Sub RestoreLock (ByRef lockCookie As LockCookie)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void RestoreLock(System::Threading::LockCookie % lockCookie);" />
      <MemberSignature Language="F#" Value="member this.RestoreLock : LockCookie -&gt; unit" Usage="readerWriterLock.RestoreLock lockCookie" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="lockCookie" Type="System.Threading.LockCookie" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="lockCookie"><span data-ttu-id="2f5a9-292">Ein von <see cref="T:System.Threading.LockCookie" /> zurückgegebenes <see cref="M:System.Threading.ReaderWriterLock.ReleaseLock" />.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-292">A <see cref="T:System.Threading.LockCookie" /> returned by <see cref="M:System.Threading.ReaderWriterLock.ReleaseLock" />.</span></span></param>
        <summary><span data-ttu-id="2f5a9-293">Stellt den Sperrstatus des Threads mit dem Status vor dem Aufruf von <see cref="M:System.Threading.ReaderWriterLock.ReleaseLock" /> wieder her.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-293">Restores the lock status of the thread to what it was before calling <see cref="M:System.Threading.ReaderWriterLock.ReleaseLock" />.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-294">Der von `RestoreLock` wiederhergestellte Zustand schließt die rekursive Sperr Anzahl ein.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-294">The state restored by `RestoreLock` includes the recursive lock count.</span></span>  
  
 <span data-ttu-id="2f5a9-295">Ein Thread wird blockiert, wenn versucht wird, eine Lesesperre wiederherzustellen, nachdem ein anderer Thread die Schreibsperre abgerufen hat, oder wenn versucht wird, die Schreibsperre wiederherzustellen, nachdem ein anderer Thread eine Lesesperre oder eine Schreibsperre abgerufen hat.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-295">A thread blocks if it tries to restore a reader lock after another thread has acquired the writer lock, or if it tries to restore the writer lock after another thread has acquired a reader lock or writer lock.</span></span> <span data-ttu-id="2f5a9-296">Da `RestoreLock` keinen Timeout akzeptiert, sollten Sie darauf achten, mögliche Deadlocks zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-296">Because `RestoreLock` does not accept a time-out, you should take care to avoid possible deadlocks.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="2f5a9-297">Stellen Sie vor dem Aufrufen von `RestoreLock`sicher, dass alle Sperren freigegeben wurden, die seit dem Aufruf von <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>abgerufen wurden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-297">Before calling `RestoreLock`, make sure you have released all locks acquired since the call to <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>.</span></span> <span data-ttu-id="2f5a9-298">Beispielsweise wird ein Thread Deadlocks, wenn er eine Lesesperre erhält und dann versucht, eine frühere Schreibsperre wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-298">For example, a thread deadlocks if it acquires a reader lock, and then attempts to restore an earlier writer lock.</span></span> <span data-ttu-id="2f5a9-299">Verwenden Sie <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A> und <xref:System.Threading.ReaderWriterLock.IsWriterLockHeld%2A>, um solche zusätzlichen Sperren zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-299">Use <xref:System.Threading.ReaderWriterLock.IsReaderLockHeld%2A> and <xref:System.Threading.ReaderWriterLock.IsWriterLockHeld%2A> to detect such additional locks.</span></span>  
  
 <span data-ttu-id="2f5a9-300">Verwenden Sie keine <xref:System.Threading.LockCookie>, die von <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-300">Do not use a <xref:System.Threading.LockCookie> returned from <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-301">Im folgenden Codebeispiel wird gezeigt, wie die <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A>-Methode verwendet wird, um die Sperre freizugeben, unabhängig davon, wie oft Sie durch den Thread abgerufen wurde, und wie der Zustand der Sperre später wieder hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-301">The following code example shows how to use the <xref:System.Threading.ReaderWriterLock.ReleaseLock%2A> method to release the lock, regardless of how many times it has been acquired by the thread, and how to restore the state of the lock later.</span></span>  
  
 <span data-ttu-id="2f5a9-302">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-302">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#6)]
[!code-csharp[System.Threading.ReaderWriterLock#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#6)]
[!code-vb[System.Threading.ReaderWriterLock#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#6)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NullReferenceException"><span data-ttu-id="2f5a9-303">Die Adresse von <paramref name="lockCookie" /> ist ein NULL-Zeiger.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-303">The address of <paramref name="lockCookie" /> is a null pointer.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-304">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-304">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-305">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-305">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="UpgradeToWriterLock">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="2f5a9-306">Wandelt eine Lesesperre in eine Schreibsperre um.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-306">Upgrades a reader lock to the writer lock.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="UpgradeToWriterLock">
      <MemberSignature Language="C#" Value="public System.Threading.LockCookie UpgradeToWriterLock (int millisecondsTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance valuetype System.Threading.LockCookie UpgradeToWriterLock(int32 millisecondsTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function UpgradeToWriterLock (millisecondsTimeout As Integer) As LockCookie" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::LockCookie UpgradeToWriterLock(int millisecondsTimeout);" />
      <MemberSignature Language="F#" Value="member this.UpgradeToWriterLock : int -&gt; System.Threading.LockCookie" Usage="readerWriterLock.UpgradeToWriterLock millisecondsTimeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Threading.LockCookie</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="millisecondsTimeout" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="millisecondsTimeout"><span data-ttu-id="2f5a9-307">Das Timeout in Millisekunden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-307">The time-out in milliseconds.</span></span></param>
        <summary><span data-ttu-id="2f5a9-308">Wandelt eine Lesesperre unter Verwendung eines <see langword="Int32" />-Werts für das Timeout in eine Schreibsperre um.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-308">Upgrades a reader lock to the writer lock, using an <see langword="Int32" /> value for the time-out.</span></span></summary>
        <returns><span data-ttu-id="2f5a9-309">Ein <see cref="T:System.Threading.LockCookie" />-Wert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-309">A <see cref="T:System.Threading.LockCookie" /> value.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-310">Wenn ein Thread aufruft `UpgradeToWriterLock` wird die Lesesperre unabhängig von der Anzahl der Sperren freigegeben, und der Thread wechselt zum Ende der Warteschlange für die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-310">When a thread calls `UpgradeToWriterLock` the reader lock is released, regardless of the lock count, and the thread goes to the end of the queue for the writer lock.</span></span> <span data-ttu-id="2f5a9-311">Daher könnten andere Threads in die Ressource schreiben, bevor dem Thread, der das Upgrade angefordert hat, die Schreibsperre erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-311">Thus, other threads might write to the resource before the thread that requested the upgrade is granted the writer lock.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="2f5a9-312">Die Timeout Ausnahme wird erst ausgelöst, wenn der Thread, der die <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> Methode aufgerufen hat, die Lesesperre erneut abrufen kann.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-312">The time-out exception is not thrown until the thread that called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method can reacquire the reader lock.</span></span> <span data-ttu-id="2f5a9-313">Wenn keine anderen Threads auf die Schreibsperre warten, erfolgt dies sofort.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-313">If there are no other threads waiting for the writer lock, this happens immediately.</span></span> <span data-ttu-id="2f5a9-314">Wenn jedoch ein anderer Thread in die Warteschlange für die Schreibsperre eingereiht wird, kann der Thread, der die <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>-Methode aufgerufen hat, die Lesesperre erst wieder abrufen, wenn alle aktuellen Reader ihre Sperren freigegeben haben und ein Thread die Schreibsperre abgerufen und freigegeben hat.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-314">However, if another thread is queued for the writer lock, the thread that called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method cannot reacquire the reader lock until all current readers have released their locks, and one thread has acquired and released the writer lock.</span></span> <span data-ttu-id="2f5a9-315">Dies gilt auch, wenn der andere Thread, der die Writer-Sperre angefordert hat, ihn nach dem aktuellen Thread angefordert hat, der als <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> Methode bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-315">This is true even if the other thread that requested the writer lock requested it after the current thread called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method.</span></span>  
  
 <span data-ttu-id="2f5a9-316">Zum Wiederherstellen des Sperr Zustands wenden Sie <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> mithilfe der von `UpgradeToWriterLock`zurückgegebenen <xref:System.Threading.LockCookie> an.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-316">To restore the lock state, call <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> using the <xref:System.Threading.LockCookie> returned by `UpgradeToWriterLock`.</span></span> <span data-ttu-id="2f5a9-317">Verwenden Sie diese `LockCookie` nicht mit <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-317">Do not use this `LockCookie` with <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span></span>  
  
 <span data-ttu-id="2f5a9-318">Wenn ein Thread keine Lesesperre aufweist, verwenden Sie `UpgradeToWriterLock`nicht.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-318">When a thread has no reader lock, do not use `UpgradeToWriterLock`.</span></span> <span data-ttu-id="2f5a9-319">Verwenden Sie stattdessen <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-319">Use <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A> instead.</span></span>  
  
 <span data-ttu-id="2f5a9-320">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-320">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-321">Das folgende Codebeispiel zeigt, wie Sie eine Lesesperre anfordern, die Lesesperre auf eine Writer-Sperre aktualisieren und erneut auf eine Lesesperre herabstufen.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-321">The following code example shows how to request a reader lock, upgrade the reader lock to a writer lock, and downgrade to a reader lock again.</span></span>  
  
 <span data-ttu-id="2f5a9-322">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-322">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#5](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#5)]
[!code-csharp[System.Threading.ReaderWriterLock#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#5)]
[!code-vb[System.Threading.ReaderWriterLock#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#5)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-323"><paramref name="millisecondsTimeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-323"><paramref name="millisecondsTimeout" /> expires before the lock request is granted.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-324">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-324">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-325">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-325">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="UpgradeToWriterLock">
      <MemberSignature Language="C#" Value="public System.Threading.LockCookie UpgradeToWriterLock (TimeSpan timeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance valuetype System.Threading.LockCookie UpgradeToWriterLock(valuetype System.TimeSpan timeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.ReaderWriterLock.UpgradeToWriterLock(System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Function UpgradeToWriterLock (timeout As TimeSpan) As LockCookie" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::LockCookie UpgradeToWriterLock(TimeSpan timeout);" />
      <MemberSignature Language="F#" Value="member this.UpgradeToWriterLock : TimeSpan -&gt; System.Threading.LockCookie" Usage="readerWriterLock.UpgradeToWriterLock timeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.LockCookie</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="timeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="timeout"><span data-ttu-id="2f5a9-326">Die <see langword="TimeSpan" />, die den Timeoutzeitraum angibt.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-326">The <see langword="TimeSpan" /> specifying the time-out period.</span></span></param>
        <summary><span data-ttu-id="2f5a9-327">Wandelt eine Lesesperre unter Verwendung eines <see langword="TimeSpan" />-Werts für das Timeout in eine Schreibsperre um.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-327">Upgrades a reader lock to the writer lock, using a <see langword="TimeSpan" /> value for the time-out.</span></span></summary>
        <returns><span data-ttu-id="2f5a9-328">Ein <see cref="T:System.Threading.LockCookie" />-Wert.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-328">A <see cref="T:System.Threading.LockCookie" /> value.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-329">Wenn ein Thread aufruft `UpgradeToWriterLock` wird die Lesesperre unabhängig von der Anzahl der Sperren freigegeben, und der Thread wechselt zum Ende der Warteschlange für die Schreibsperre.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-329">When a thread calls `UpgradeToWriterLock` the reader lock is released, regardless of the lock count, and the thread goes to the end of the queue for the writer lock.</span></span> <span data-ttu-id="2f5a9-330">Daher könnten andere Threads in die Ressource schreiben, bevor dem Thread, der das Upgrade angefordert hat, die Schreibsperre erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-330">Thus, other threads might write to the resource before the thread that requested the upgrade is granted the writer lock.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="2f5a9-331">Die Timeout Ausnahme wird erst ausgelöst, wenn der Thread, der die <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> Methode aufgerufen hat, die Lesesperre erneut abrufen kann.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-331">The time-out exception is not thrown until the thread that called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method can reacquire the reader lock.</span></span> <span data-ttu-id="2f5a9-332">Wenn keine anderen Threads auf die Schreibsperre warten, erfolgt dies sofort.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-332">If there are no other threads waiting for the writer lock, this happens immediately.</span></span> <span data-ttu-id="2f5a9-333">Wenn jedoch ein anderer Thread in die Warteschlange für die Schreibsperre eingereiht wird, kann der Thread, der die <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A>-Methode aufgerufen hat, die Lesesperre erst wieder abrufen, wenn alle aktuellen Reader ihre Sperren freigegeben haben und ein Thread die Schreibsperre abgerufen und freigegeben hat.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-333">However, if another thread is queued for the writer lock, the thread that called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method cannot reacquire the reader lock until all current readers have released their locks, and one thread has acquired and released the writer lock.</span></span> <span data-ttu-id="2f5a9-334">Dies gilt auch, wenn der andere Thread, der die Writer-Sperre angefordert hat, ihn nach dem aktuellen Thread angefordert hat, der als <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> Methode bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-334">This is true even if the other thread that requested the writer lock requested it after the current thread called the <xref:System.Threading.ReaderWriterLock.UpgradeToWriterLock%2A> method.</span></span>  
  
 <span data-ttu-id="2f5a9-335">Zum Wiederherstellen des Sperr Zustands wenden Sie <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> mithilfe der von `UpgradeToWriterLock`zurückgegebenen <xref:System.Threading.LockCookie> an.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-335">To restore the lock state, call <xref:System.Threading.ReaderWriterLock.DowngradeFromWriterLock%2A> using the <xref:System.Threading.LockCookie> returned by `UpgradeToWriterLock`.</span></span> <span data-ttu-id="2f5a9-336">Verwenden Sie diese `LockCookie` nicht mit <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-336">Do not use this `LockCookie` with <xref:System.Threading.ReaderWriterLock.RestoreLock%2A>.</span></span>  
  
 <span data-ttu-id="2f5a9-337">Wenn ein Thread keine Lesesperre aufweist, verwenden Sie `UpgradeToWriterLock`nicht.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-337">When a thread has no reader lock, do not use `UpgradeToWriterLock`.</span></span> <span data-ttu-id="2f5a9-338">Verwenden Sie stattdessen <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-338">Use <xref:System.Threading.ReaderWriterLock.AcquireWriterLock%2A> instead.</span></span>  
  
 <span data-ttu-id="2f5a9-339">Gültige Timeout Werte finden Sie unter <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-339">For valid time-out values, see <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ApplicationException"><span data-ttu-id="2f5a9-340"><paramref name="timeout" /> läuft ab, bevor die Sperranforderung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-340"><paramref name="timeout" /> expires before the lock request is granted.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="2f5a9-341"><paramref name="timeout" /> gibt einen negativen Wert ungleich -1 Millisekunden an.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-341"><paramref name="timeout" /> specifies a negative value other than -1 milliseconds.</span></span></exception>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-342">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-342">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-343">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-343">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="WriterSeqNum">
      <MemberSignature Language="C#" Value="public int WriterSeqNum { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 WriterSeqNum" />
      <MemberSignature Language="DocId" Value="P:System.Threading.ReaderWriterLock.WriterSeqNum" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property WriterSeqNum As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int WriterSeqNum { int get(); };" />
      <MemberSignature Language="F#" Value="member this.WriterSeqNum : int" Usage="System.Threading.ReaderWriterLock.WriterSeqNum" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Threading</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.1.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>get: System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2f5a9-344">Ruft die aktuelle Sequenznummer ab.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-344">Gets the current sequence number.</span></span></summary>
        <value><span data-ttu-id="2f5a9-345">Die aktuelle Sequenznummer.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-345">The current sequence number.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f5a9-346">Die Sequenznummer erhöht sich, wenn ein Thread die Schreibsperre erhält.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-346">The sequence number increases whenever a thread acquires the writer lock.</span></span> <span data-ttu-id="2f5a9-347">Sie können die Sequenznummer speichern und Sie zu einem späteren Zeitpunkt an <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A> übergeben, wenn Sie bestimmen möchten, ob andere Threads die Schreibsperre in der Zwischenzeit erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-347">You can save the sequence number and pass it to <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A> at a later time, if you want to determine whether other threads have acquired the writer lock in the meantime.</span></span>  
  
 <span data-ttu-id="2f5a9-348">Sie können `WriterSeqNum` verwenden, um die Anwendungsleistung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-348">You can use `WriterSeqNum` to improve application performance.</span></span> <span data-ttu-id="2f5a9-349">Ein Thread kann z. b. die Informationen zwischenspeichern, die er beim Aufrechterhalten einer Lesesperre erhält.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-349">For example, a thread might cache the information it obtains while holding a reader lock.</span></span> <span data-ttu-id="2f5a9-350">Nach dem Freigeben und späteren erneuten Erwerb der Sperre kann der Thread ermitteln, ob andere Threads durch Aufrufen von `AnyWritersSince`in die Ressource geschrieben wurden. Andernfalls können die zwischengespeicherten Informationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-350">After releasing and later reacquiring the lock, the thread can determine whether other threads have written to the resource by calling `AnyWritersSince`; if not, the cached information can be used.</span></span> <span data-ttu-id="2f5a9-351">Diese Technik ist hilfreich, wenn das Lesen der durch die Sperre geschützten Informationen teuer ist. beispielsweise das Ausführen einer Datenbankabfrage.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-351">This technique is useful when reading the information protected by the lock is expensive; for example, running a database query.</span></span>  
  
 <span data-ttu-id="2f5a9-352">Der Aufrufer muss eine Lesesperre oder eine Writer-Sperre aufweisen, damit die Sequenznummer nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-352">The caller must be holding a reader lock or a writer lock in order for the sequence number to be useful.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2f5a9-353">Im folgenden Codebeispiel wird gezeigt, wie die <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A>-Eigenschaft und die <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A>-Methode verwendet werden, um zu bestimmen, ob ein anderer Thread die Schreibsperre für die geschützte Ressource abgerufen hat, da der aktuelle Thread zuletzt die Schreibsperre aufrechterhalten hat.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-353">The following code example shows how to use the <xref:System.Threading.ReaderWriterLock.WriterSeqNum%2A> property and the <xref:System.Threading.ReaderWriterLock.AnyWritersSince%2A> method to determine whether another thread acquired the writer lock on the protected resource since the current thread last held the writer lock.</span></span>  
  
 <span data-ttu-id="2f5a9-354">Dieser Code ist Teil eines größeren Beispiels, das für die <xref:System.Threading.ReaderWriterLock>-Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="2f5a9-354">This code is part of a larger example provided for the <xref:System.Threading.ReaderWriterLock> class.</span></span>  
  
 [!code-cpp[System.Threading.ReaderWriterLock#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#2)]
 [!code-csharp[System.Threading.ReaderWriterLock#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#2)]
 [!code-vb[System.Threading.ReaderWriterLock#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#2)]  
[!code-cpp[System.Threading.ReaderWriterLock#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#6)]
[!code-csharp[System.Threading.ReaderWriterLock#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#6)]
[!code-vb[System.Threading.ReaderWriterLock#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#6)]  
[!code-cpp[System.Threading.ReaderWriterLock#7](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CPP/source.cpp#7)]
[!code-csharp[System.Threading.ReaderWriterLock#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/CS/source.cs#7)]
[!code-vb[System.Threading.ReaderWriterLock#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Threading.ReaderWriterLock/VB/source.vb#7)]  
  
 ]]></format>
        </remarks>
        <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="2f5a9-355">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="2f5a9-355">Managed Threading</span></span></related>
        <related type="Article" href="~/docs/standard/threading/reader-writer-locks.md"><span data-ttu-id="2f5a9-356">ReaderWriterLock</span><span class="sxs-lookup"><span data-stu-id="2f5a9-356">ReaderWriterLock</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>
