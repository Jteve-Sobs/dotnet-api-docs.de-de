<Type Name="ProtectedData" FullName="System.Security.Cryptography.ProtectedData">
  <Metadata><Meta Name="ms.openlocfilehash" Value="7382e8a6e7a534680d2d5ded3b159fe5fe7ea3b8" /><Meta Name="ms.sourcegitcommit" Value="b0947fed0227b6b2e292d7efb43705b488b130aa" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="de-DE" /><Meta Name="ms.lasthandoff" Value="04/29/2020" /><Meta Name="ms.locfileid" Value="82490039" /></Metadata><TypeSignature Language="C#" Value="public static class ProtectedData" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0;net-5.0;netcore-1.0;netcore-1.1;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit ProtectedData extends System.Object" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0;net-5.0;netcore-1.0;netcore-1.1;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
  <TypeSignature Language="DocId" Value="T:System.Security.Cryptography.ProtectedData" />
  <TypeSignature Language="VB.NET" Value="Public Class ProtectedData" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0;net-5.0;netcore-1.0;netcore-1.1;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
  <TypeSignature Language="C++ CLI" Value="public ref class ProtectedData abstract sealed" FrameworkAlternate="dotnet-plat-ext-2.1;dotnet-plat-ext-2.2;dotnet-plat-ext-3.0;dotnet-plat-ext-3.1;dotnet-plat-ext-5.0;net-5.0;netcore-1.0;netcore-1.1;netcore-3.0;netcore-3.1;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
  <TypeSignature Language="F#" Value="type ProtectedData = class" />
  <TypeSignature Language="C#" Value="public sealed class ProtectedData" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit ProtectedData extends System.Object" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class ProtectedData" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <TypeSignature Language="C++ CLI" Value="public ref class ProtectedData sealed" FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
  <AssemblyInfo>
    <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
    <AssemblyVersion>4.0.4.0</AssemblyVersion>
    <AssemblyVersion>4.0.5.0</AssemblyVersion>
    <AssemblyVersion>5.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Security</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Stellt Methoden zum Verschlüsseln und Entschlüsseln von Daten bereit. Diese Klasse kann nicht vererbt werden.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks

Diese Klasse ermöglicht den Zugriff auf die Datenschutz-API (DPAPI), die in Windows-Betriebssystemen verfügbar ist. Dabei handelt es sich um einen Dienst, der vom Betriebssystem bereitgestellt wird und keine zusätzlichen Bibliotheken erfordert. Sie bietet Schutz mithilfe der Anmelde Informationen des Benutzers oder Computers, um Daten zu verschlüsseln oder zu entschlüsseln.

> [!IMPORTANT]
> Da es von DPAPI abhängig ist, wird die `ProtectedData`-Klasse nur auf der Windows-Plattform unterstützt. Die Verwendung von .net Core auf anderen Plattformen als Windows löst eine <xref:System.PlatformNotSupportedException>aus.
  
Die-Klasse besteht aus zwei Wrappern für die nicht verwalteten DPAPI-<xref:System.Security.Cryptography.ProtectedData.Protect%2A> und <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A>. Diese beiden Methoden können verwendet werden, um Daten wie Kenn Wörter, Schlüssel und Verbindungs Zeichenfolgen zu verschlüsseln und zu entschlüsseln.  
  
Wenn Sie diese Methoden während des Identitäts Wechsels verwenden, erhalten Sie möglicherweise den folgenden Fehler: "der Schlüssel ist für die Verwendung im angegebenen Zustand ungültig." Dies liegt daran, dass die DPAPI die Schlüsseldaten in Benutzerprofilen speichert. Wenn das Profil nicht geladen ist, kann DPAPI die Entschlüsselung nicht durchführen. Um diesen Fehler zu vermeiden, laden Sie das Profil des Benutzers, dessen Identität Sie annehmen möchten, bevor Sie eine der beiden Methoden aufrufen. Die Verwendung von DPAPI mit dem Identitätswechsel kann eine beträchtliche Komplikation verursachen und erfordert sorgfältige Entwurfsentscheidungen.  

## Examples  
 Im folgenden Beispiel wird die Verwendung von Datenschutz veranschaulicht.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Protect">
      <MemberSignature Language="C#" Value="public static byte[] Protect (byte[] userData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Protect(unsigned int8[] userData, unsigned int8[] optionalEntropy, valuetype System.Security.Cryptography.DataProtectionScope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Protect (userData As Byte(), optionalEntropy As Byte(), scope As DataProtectionScope) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Protect(cli::array &lt;System::Byte&gt; ^ userData, cli::array &lt;System::Byte&gt; ^ optionalEntropy, System::Security::Cryptography::DataProtectionScope scope);" />
      <MemberSignature Language="F#" Value="static member Protect : byte[] * byte[] * System.Security.Cryptography.DataProtectionScope -&gt; byte[]" Usage="System.Security.Cryptography.ProtectedData.Protect (userData, optionalEntropy, scope)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
        <AssemblyVersion>4.0.5.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="userData" Type="System.Byte[]" />
        <Parameter Name="optionalEntropy" Type="System.Byte[]" />
        <Parameter Name="scope" Type="System.Security.Cryptography.DataProtectionScope" />
      </Parameters>
      <Docs>
        <param name="userData">Ein Bytearray, das die zu verschlüsselnden Daten enthält.</param>
        <param name="optionalEntropy">Ein optionales zusätzliches Bytearray, das verwendet wurde, um die Komplexität der Verschlüsselung zu vergrößern, oder <see langword="null" /> für keine zusätzliche Komplexität.</param>
        <param name="scope">Einer der Enumerationswerte, der den Bereich der Verschlüsselung angibt.</param>
        <summary>Verschlüsselt die Daten in einem angegebenen Bytearray und gibt ein Bytearray zurück, das die verschlüsselten Daten enthält.</summary>
        <returns>Ein Bytearray, das die verschlüsselten Daten darstellt.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Diese Methode kann zum Verschlüsseln von Daten verwendet werden, z. b. Kenn Wörter, Schlüssel oder Verbindungs Zeichenfolgen. Mit dem `optionalEntropy`-Parameter können Sie Daten hinzufügen, um die Komplexität der Verschlüsselung zu erhöhen. Geben Sie `null` für keine zusätzliche Komplexität an. Wenn bereitgestellt, müssen diese Informationen auch verwendet werden, wenn die Daten mit der <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A>-Methode entschlüsselt werden.  
  
> [!NOTE]
>  Wenn Sie diese Methode während des Identitäts Wechsels verwenden, erhalten Sie möglicherweise den folgenden Fehler: "der Schlüssel ist für die Verwendung im angegebenen Zustand nicht gültig." Um diesen Fehler zu vermeiden, sollten Sie das Profil des Benutzers laden, dessen Identität Sie annehmen möchten, bevor Sie die-Methode aufrufen.  
  
   
  
## Examples  
 Im folgenden Beispiel wird die Verwendung von Datenschutz veranschaulicht.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Der <paramref name="userData" />-Parameter ist <see langword="null" />.</exception>
        <exception cref="T:System.Security.Cryptography.CryptographicException">Die Verschlüsselung ist fehlgeschlagen.</exception>
        <exception cref="T:System.NotSupportedException">Dieses Methode wird vom Betriebssystem nicht unterstützt.</exception>
        <exception cref="T:System.OutOfMemoryException">Es steht nicht genügend Arbeitsspeicher zum Verschlüsseln der Daten zur Verfügung.</exception>
        <exception cref="T:System.PlatformNotSupportedException">Nur .NET Core: Aufrufe der <c>Protect</c>-Methode werden nur auf Windows-Betriebssystemen unterstützt.</exception>
      </Docs>
    </Member>
    <Member MemberName="Unprotect">
      <MemberSignature Language="C#" Value="public static byte[] Unprotect (byte[] encryptedData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Unprotect(unsigned int8[] encryptedData, unsigned int8[] optionalEntropy, valuetype System.Security.Cryptography.DataProtectionScope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Unprotect (encryptedData As Byte(), optionalEntropy As Byte(), scope As DataProtectionScope) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Unprotect(cli::array &lt;System::Byte&gt; ^ encryptedData, cli::array &lt;System::Byte&gt; ^ optionalEntropy, System::Security::Cryptography::DataProtectionScope scope);" />
      <MemberSignature Language="F#" Value="static member Unprotect : byte[] * byte[] * System.Security.Cryptography.DataProtectionScope -&gt; byte[]" Usage="System.Security.Cryptography.ProtectedData.Unprotect (encryptedData, optionalEntropy, scope)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
        <AssemblyVersion>4.0.5.0</AssemblyVersion>
        <AssemblyVersion>5.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="encryptedData" Type="System.Byte[]" />
        <Parameter Name="optionalEntropy" Type="System.Byte[]" />
        <Parameter Name="scope" Type="System.Security.Cryptography.DataProtectionScope" />
      </Parameters>
      <Docs>
        <param name="encryptedData">Ein Bytearray, das Daten enthält, die mit der <see cref="M:System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />-Methode verschlüsselt wurden.</param>
        <param name="optionalEntropy">Ein optionales zusätzliches Bytearray, das verwendet wurde, um die Daten zu verschlüsseln, oder <see langword="null" />, wenn das zusätzliche Bytearray nicht verwendet wurde.</param>
        <param name="scope">Einer der Enumerationswerte, der den Bereich des Datenschutzes angibt, der verwendet wurde, um die Daten zu verschlüsseln.</param>
        <summary>Entschlüsselt die Daten in einem angegebenen Bytearray und gibt ein Bytearray zurück, das die entschlüsselten Daten enthält.</summary>
        <returns>Ein Bytearray, das die entschlüsselten Daten darstellt.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Diese Methode kann zum Aufheben des Schutzes von Daten verwendet werden, die mit der <xref:System.Security.Cryptography.ProtectedData.Protect%2A>-Methode verschlüsselt wurden. Wenn der `optionalEntropy`-Parameter während der Verschlüsselung verwendet wurde, muss er bereitgestellt werden, um die Daten zu verschlüsseln.  
  
> [!NOTE]
>  Wenn Sie diese Methode während des Identitäts Wechsels verwenden, erhalten Sie möglicherweise den folgenden Fehler: "der Schlüssel ist für die Verwendung im angegebenen Zustand nicht gültig." Um diesen Fehler zu vermeiden, sollten Sie das Profil des Benutzers laden, dessen Identität Sie annehmen möchten, bevor Sie die-Methode aufrufen.  
  
   
  
## Examples  
 Im folgenden Codebeispiel wird die Verwendung von Datenschutz veranschaulicht.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Der <paramref name="encryptedData" />-Parameter ist <see langword="null" />.</exception>
        <exception cref="T:System.Security.Cryptography.CryptographicException">Die Entschlüsselung ist fehlgeschlagen.</exception>
        <exception cref="T:System.NotSupportedException">Dieses Methode wird vom Betriebssystem nicht unterstützt.</exception>
        <exception cref="T:System.OutOfMemoryException">Nicht genügend Arbeitsspeicher.</exception>
        <exception cref="T:System.PlatformNotSupportedException">Nur .NET Core: Aufrufe der <c>Unprotect</c>-Methode werden nur auf Windows-Betriebssystemen unterstützt.</exception>
      </Docs>
    </Member>
  </Members>
</Type>
