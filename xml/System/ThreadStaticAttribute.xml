<Type Name="ThreadStaticAttribute" FullName="System.ThreadStaticAttribute">
  <Metadata><Meta Name="ms.openlocfilehash" Value="e81be9c1815291ab9511fff2c31612aa676379c1" /><Meta Name="ms.sourcegitcommit" Value="88014e1c5440e3df4f66ef04393854d15b1fd534" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="de-DE" /><Meta Name="ms.lasthandoff" Value="09/05/2019" /><Meta Name="ms.locfileid" Value="70541411" /></Metadata><TypeSignature Language="C#" Value="public class ThreadStaticAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable beforefieldinit ThreadStaticAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.ThreadStaticAttribute" />
  <TypeSignature Language="VB.NET" Value="Public Class ThreadStaticAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class ThreadStaticAttribute : Attribute" />
  <TypeSignature Language="F#" Value="type ThreadStaticAttribute = class&#xA;    inherit Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netcore-1.0;netcore-1.1;netcore-2.0;netcore-2.1;netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netstandard-1.0;netstandard-1.1;netstandard-1.2;netstandard-1.3;netstandard-1.4;netstandard-1.5;netstandard-1.6;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8;netcore-2.2;dotnet-uwp-10.0;netcore-3.0;netstandard-2.1">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Field, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Serializable</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="7da19-101">Gibt an, dass der Wert eines statischen Felds für jeden Thread eindeutig ist.</span><span class="sxs-lookup"><span data-stu-id="7da19-101">Indicates that the value of a static field is unique for each thread.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7da19-102">Ein `static` Feld, das <xref:System.ThreadStaticAttribute> mit markiert ist, wird nicht von Threads gemeinsam verwendet.</span><span class="sxs-lookup"><span data-stu-id="7da19-102">A `static` field marked with <xref:System.ThreadStaticAttribute> is not shared between threads.</span></span> <span data-ttu-id="7da19-103">Jeder ausgeführte Thread verfügt über eine separate Instanz des Felds, und die Werte für dieses Feld werden unabhängig voneinander festgelegt und abgerufen.</span><span class="sxs-lookup"><span data-stu-id="7da19-103">Each executing thread has a separate instance of the field, and independently sets and gets values for that field.</span></span> <span data-ttu-id="7da19-104">Wenn auf das Feld in einem anderen Thread zugegriffen wird, enthält es einen anderen Wert.</span><span class="sxs-lookup"><span data-stu-id="7da19-104">If the field is accessed on a different thread, it will contain a different value.</span></span>  
  
 <span data-ttu-id="7da19-105">Beachten Sie, dass Sie zusätzlich zum <xref:System.ThreadStaticAttribute> Anwenden des-Attributs auf ein Feld es auch als ein `static` Feld (in C#) oder als `Shared` ein Feld (in Visual Basic) definieren müssen.</span><span class="sxs-lookup"><span data-stu-id="7da19-105">Note that in addition to applying the <xref:System.ThreadStaticAttribute> attribute to a field, you must also define it as a `static` field (in C#) or a `Shared` field (in Visual Basic).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7da19-106">Geben Sie keine Anfangswerte für mit `ThreadStaticAttribute`markierte Felder an, da diese Initialisierung nur einmal erfolgt, wenn der Klassenkonstruktor ausgeführt wird, und sich daher nur auf einen Thread auswirkt.</span><span class="sxs-lookup"><span data-stu-id="7da19-106">Do not specify initial values for fields marked with `ThreadStaticAttribute`, because such initialization occurs only once, when the class constructor executes, and therefore affects only one thread.</span></span> <span data-ttu-id="7da19-107">Wenn Sie keinen Anfangswert angeben, können Sie sich darauf verlassen, dass das Feld auf seinen Standardwert initialisiert wird, wenn es sich um einen Werttyp handelt, oder auf, wenn es sich um `null` einen Verweistyp handelt.</span><span class="sxs-lookup"><span data-stu-id="7da19-107">If you do not specify an initial value, you can rely on the field being initialized to its default value if it is a value type, or to `null` if it is a reference type.</span></span>  
  
 <span data-ttu-id="7da19-108">Verwenden Sie dieses Attribut unverändert, und lassen Sie sich nicht davon ableiten.</span><span class="sxs-lookup"><span data-stu-id="7da19-108">Use this attribute as it is, and do not derive from it.</span></span>  
  
 <span data-ttu-id="7da19-109">Weitere Informationen zum Verwenden von Attributen finden Sie unter [Attribute](~/docs/standard/attributes/index.md).</span><span class="sxs-lookup"><span data-stu-id="7da19-109">For more information about using attributes, see [Attributes](~/docs/standard/attributes/index.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7da19-110">Im folgenden Beispiel wird ein Zufallszahlengenerator instanziiert, zehn Threads zusätzlich zum Haupt Thread erstellt und dann in jedem Thread 2 Millionen Zufallszahlen generiert.</span><span class="sxs-lookup"><span data-stu-id="7da19-110">The following example instantiates a random number generator, creates ten threads in addition to the main thread, and then generates two million random numbers in each thread.</span></span> <span data-ttu-id="7da19-111">Er verwendet das <xref:System.ThreadStaticAttribute> -Attribut, um die Summe und die Anzahl der Zufallszahlen pro Thread zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="7da19-111">It uses the <xref:System.ThreadStaticAttribute> attribute to calculate the sum and the count of random numbers per thread.</span></span> <span data-ttu-id="7da19-112">Außerdem werden zwei zusätzliche Thread spezifische Felder definiert, `previous` und, mit denen die Beschädigung des Zufallszahlen- `abnormal`Generators erkannt werden kann.</span><span class="sxs-lookup"><span data-stu-id="7da19-112">It also defines two additional per-thread fields, `previous` and `abnormal`, that allows it to detect corruption of the random number generator.</span></span>  
  
 [!code-csharp[System.ThreadStaticAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threadstaticattribute/cs/threadsafe2a.cs#1)]
 [!code-vb[System.ThreadStaticAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threadstaticattribute/vb/threadsafe2a.vb#1)]  
  
 <span data-ttu-id="7da19-113">Im Beispiel wird die `lock` -Anweisung C# in und `SyncLock` das-Konstrukt in Visual Basic verwendet, um den Zugriff auf den Zufallszahlengenerator zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="7da19-113">The example uses the `lock` statement in C# and the `SyncLock` construct in Visual Basic to synchronize access to the random number generator.</span></span> <span data-ttu-id="7da19-114">Dies verhindert die Beschädigung des Zufallszahlen-Generators, was in der Regel dazu führt, dass für alle nachfolgenden Aufrufe der Wert 0 (null) zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="7da19-114">This prevents corruption of the random number generator, which typically results in its returning a value of zero for all subsequent calls.</span></span>  
  
 <span data-ttu-id="7da19-115">Im Beispiel wird auch die <xref:System.Threading.CountdownEvent> -Klasse verwendet, um sicherzustellen, dass jeder Thread das Erstellen von Zufallszahlen abgeschlossen hat, bevor die Gesamtzahl der Aufrufe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7da19-115">The example also uses the <xref:System.Threading.CountdownEvent> class to ensure that each thread has finished generating random numbers before it displays the total number of calls.</span></span> <span data-ttu-id="7da19-116">Andernfalls zeigt der Haupt Thread die Ausführung vor den zusätzlichen Threads an, die er erzeugt, und zeigt einen ungenauen Wert für die Gesamtzahl der Methodenaufrufe an.</span><span class="sxs-lookup"><span data-stu-id="7da19-116">Otherwise, if the main thread completes execution before the additional threads that it spawns, it displays an inaccurate value for the total number of method calls.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Attribute" />
    <altmember cref="T:System.Threading.Thread" />
    <altmember cref="T:System.Threading.AsyncLocal`1" />
    <related type="Article" href="~/docs/standard/attributes/index.md"><span data-ttu-id="7da19-117">Erweitern von Metadaten mithilfe von Attributen</span><span class="sxs-lookup"><span data-stu-id="7da19-117">Extending Metadata Using Attributes</span></span></related>
    <related type="Article" href="~/docs/standard/threading/index.md"><span data-ttu-id="7da19-118">Verwaltetes Threading</span><span class="sxs-lookup"><span data-stu-id="7da19-118">Managed Threading</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ThreadStaticAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ThreadStaticAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ThreadStaticAttribute();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7da19-119">Initialisiert eine neue Instanz der <see cref="T:System.ThreadStaticAttribute" />-Klasse.</span><span class="sxs-lookup"><span data-stu-id="7da19-119">Initializes a new instance of the <see cref="T:System.ThreadStaticAttribute" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>
