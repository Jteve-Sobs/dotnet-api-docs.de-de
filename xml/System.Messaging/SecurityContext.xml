<Type Name="SecurityContext" FullName="System.Messaging.SecurityContext">
  <Metadata><Meta Name="ms.openlocfilehash" Value="4c3057d3c9e3d9ec00598d470f67a7241be0980c" /><Meta Name="ms.sourcegitcommit" Value="397961a0164281b579f68064c3bb66c071f374d9" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="de-DE" /><Meta Name="ms.lasthandoff" Value="07/14/2020" /><Meta Name="ms.locfileid" Value="86332476" /></Metadata><TypeSignature Language="C#" Value="public sealed class SecurityContext : IDisposable" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SecurityContext extends System.Object implements class System.IDisposable" />
  <TypeSignature Language="DocId" Value="T:System.Messaging.SecurityContext" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SecurityContext&#xA;Implements IDisposable" />
  <TypeSignature Language="C++ CLI" Value="public ref class SecurityContext sealed : IDisposable" />
  <TypeSignature Language="F#" Value="type SecurityContext = class&#xA;    interface IDisposable" />
  <AssemblyInfo>
    <AssemblyName>System.Messaging</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.IDisposable</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary><span data-ttu-id="ae339-101">Stellt den Sicherheitskontext für eine Meldung in einer Warteschlange dar.</span><span class="sxs-lookup"><span data-stu-id="ae339-101">Represents the security context for a message in a queue.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ae339-102">Der Sicherheitskontext enthält zwischengespeicherte Sicherheitsinformationen, wie z. b. ein internes Zertifikat, den entsprechenden privaten Schlüssel, die SID des Benutzers, der zum Anfügen eines Zertifikats und des Absender Bezeichners an eine Nachricht bei der Anforderung der Authentifizierung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ae339-102">The security context contains cached security information such as an internal certificate, the corresponding private key, the user's SID, needed to attach a certificate and the sender identifier to a message when requesting authentication.</span></span>  
  
 <span data-ttu-id="ae339-103">Wenn ein Client, z. b. eine ASP.NET-Anwendung, die Identität eines Benutzers annimmt, um eine Nachricht an eine Warteschlange zu senden, wird die Identität des Benutzers für den Zugriff auf die Warteschlange verwendet.</span><span class="sxs-lookup"><span data-stu-id="ae339-103">If a client, such as an ASP.NET application, impersonates a user to send a message to a queue, the identity of the user is used to access the queue.</span></span> <span data-ttu-id="ae339-104">Wenn die Warteschlange Remote ist, werden diese Anmelde Informationen zwischengespeichert und für Nachrichten verwendet, die anschließend an die Warteschlange gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="ae339-104">If the queue is remote, these credentials are cached and used for messages that are subsequently sent to the queue.</span></span> <span data-ttu-id="ae339-105">Daher ist die SID in nachfolgenden Nachrichten die zwischengespeicherte Identität des ersten Benutzers, der eine Nachricht an die Warteschlange gesendet hat.</span><span class="sxs-lookup"><span data-stu-id="ae339-105">Therefore, the SID in subsequent messages will be the cached identity of the first user that sent a message to the queue.</span></span> <span data-ttu-id="ae339-106">Die zwischengespeicherte Identität des ersten Benutzers, der eine Nachricht an die Warteschlange gesendet hat, wird für nachfolgende Benutzer verwendet.</span><span class="sxs-lookup"><span data-stu-id="ae339-106">The cached identity of the first user that sent a message to the queue will be used for subsequent users.</span></span>  
  
 <span data-ttu-id="ae339-107">Um dieses Problem zu beheben, legen Sie den Sicherheitskontext mithilfe von <xref:System.Messaging.Message.SecurityContext%2A> vor dem Senden einer Nachricht an eine Remote Warteschlange fest, um sicherzustellen, dass die Anmelde Informationen des aktuellen Benutzers verwendet werden, um auf die Warteschlange zuzugreifen</span><span class="sxs-lookup"><span data-stu-id="ae339-107">To overcome this problem, set the security context using <xref:System.Messaging.Message.SecurityContext%2A> before sending a message to a remote queue to ensure that the current user's credentials are used to gain access to the queue.</span></span> <span data-ttu-id="ae339-108">Es wird jedoch empfohlen, Folgendes zu tun:</span><span class="sxs-lookup"><span data-stu-id="ae339-108">However, the suggested best practice is to:</span></span>  
  
1.  <span data-ttu-id="ae339-109">Stellen Sie die Warteschlange in eine authentifizierte Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="ae339-109">Make the queue an authenticated queue.</span></span>  
  
2.  <span data-ttu-id="ae339-110">Führen Sie die Anwendung ASP.net als Domänen Identität aus, und autorisieren Sie diese Anwendung, in die Warteschlange zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="ae339-110">Run the ASP.NET application as a domain identity and authorize that application to write to the queue.</span></span>  
  
3.  <span data-ttu-id="ae339-111">Nehmen Sie die Identität des Benutzers nicht an, wenn Sie die Warteschlange verwenden.</span><span class="sxs-lookup"><span data-stu-id="ae339-111">Do not impersonate the user when using the queue.</span></span> <span data-ttu-id="ae339-112">Verwenden Sie stattdessen die Identität des Aufrufers, und führen Sie entweder eine Autorisierungs Überprüfung in der ASP.NET-Anwendung aus, oder fügen Sie die Identität des Aufrufers als Teil der Nachricht ein, und führen Sie die Autorisierungs Überprüfung</span><span class="sxs-lookup"><span data-stu-id="ae339-112">Instead, get the caller's identity and either perform authorization checking in the ASP.NET application or include the caller's identity as part of the message and perform authorization checking in the receiver application.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Dispose">
      <MemberSignature Language="C#" Value="public void Dispose ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Dispose() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Messaging.SecurityContext.Dispose" />
      <MemberSignature Language="VB.NET" Value="Public Sub Dispose ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Dispose();" />
      <MemberSignature Language="F#" Value="abstract member Dispose : unit -&gt; unit&#xA;override this.Dispose : unit -&gt; unit" Usage="securityContext.Dispose " />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.IDisposable.Dispose</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Messaging</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="ae339-113">Gibt alle vom <see cref="T:System.Messaging.SecurityContext" /> verwendeten Ressourcen frei.</span><span class="sxs-lookup"><span data-stu-id="ae339-113">Releases all resources used by the <see cref="T:System.Messaging.SecurityContext" />.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Finalize">
      <MemberSignature Language="C#" Value="~SecurityContext ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void Finalize() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Messaging.SecurityContext.Finalize" />
      <MemberSignature Language="VB.NET" Value="Finalize ()" />
      <MemberSignature Language="C++ CLI" Value="!SecurityContext ()" />
      <MemberSignature Language="F#" Value="override this.Finalize : unit -&gt; unit" Usage="securityContext.Finalize " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Messaging</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="ae339-114">Gibt die von SecurityContext verwendeten Ressourcen frei.</span><span class="sxs-lookup"><span data-stu-id="ae339-114">Releases the resources that are being used by SecurityContext.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>
